####################### TEMPLATE BUTTON CARD ################################
button_card_templates: !include button_card_templates.yaml

####################### DECLUTTERING TEMPLATES ##############################
decluttering_templates: !include decluttering_templates.yaml

title: Duca del Nord
views:
  #############################################################################################################################################
  #                                                                                                                                           #
  #                                                              Floorplan View                                                               #
  #                                                                                                                                           #
  #############################################################################################################################################

  - title: Control Rooms
    panel: true
    icon: "mdi:floor-plan"
    badges: []
    cards:
      - type: custom:mod-card
        style:
          swipe-card:
            $: |
              .swiper-pagination {
                top: 2px;
                height: 1vw;
                }
        card:
          type: "custom:swipe-card"
          parameters:
            effect: "coverflow"
            coverflowEffect:
              slideShadows: true
              rotate: 50
              stretch: 0
              depth: 100
              modifier: 1
            pagination:
              type: "bullets"
              hide: false
              clickable: true
              draggable: false
              snapOnRelease: true
          cards:
            ###########################################################################################################
            #                                                                                                         #
            #                                               Ground Floor                                              #
            #                                                                                                         #
            ###########################################################################################################

            - type: "custom:config-template-card"
              entities:
                ### All the light entities I'm using
                - light.keuken
                - light.woonkamer
                - light.gang
                - light.muur_keuken
                - light.kasten_keuken
                - light.aanrecht
                - light.buiten
                - light.voordeur
                - light.erker
                - light.schuifdeuren
                - light.erker_bank
                - light.overkapping_rechts
                - light.tuin_zijkant
                - sun.sun
                - sensor.time
                - sensor.date
                # - sensor.christmas_time
                - switch.plug_versterker_aangezet

              card:
                ###################   Picture Elements Card    #####################
                type: picture-elements
                image: /local/ui/floorplan/night.png
                style: |
                  ha-card:first-child {
                    background: rgba(42, 46, 48, 1)
                  }
                elements:
                  #########################    DAY BASE FLOORPLAN OVERLAY    #########################

                  - action: none
                    entity: sun.sun
                    hold_action:
                      action: none
                    state_image:
                      above_horizon: /local/ui/floorplan/day.png
                      below_horizon: /local/ui/floorplan/transparent.png
                    style:
                      height: 100%
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${ states['sensor.sunlight_opacity'].state }"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                    #########################    INDIVIDUAL LIGHTS - BLENDED IMAGE OVERLAYS    #########################

                  # - type: conditional
                  #   conditions:
                  #     - entity: sensor.christmas_time
                  #       state: "True"
                  #   elements:
                  #     - action: none
                  #       entity: switch.plug_versterker_aangezet
                  #       hold_action:
                  #         action: none
                  #       image: /local/ui/floorplan/lights/kerst.png
                  #       state_filter:
                  #         "off": opacity(0%)
                  #         "on": opacity(100%)
                  #       style:
                  #         left: 50%
                  #         mix-blend-mode: lighten
                  #         top: 50%
                  #         width: 100%
                  #       tap_action:
                  #         action: none
                  #       type: image

                  - action: none
                    entity: light.erker_bank
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/bank.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.erker_bank'].state === 'on' ? (states['light.erker_bank'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.erker
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/erker.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.erker'].state === 'on' ? (states['light.erker'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.schuifdeuren
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/schuifdeuren.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.schuifdeuren'].state === 'on' ? (states['light.schuifdeuren'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.gang
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/gang.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.gang'].state === 'on' ? (states['light.gang'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.muur_keuken
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/muur.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.muur_keuken'].state === 'on' ? (states['light.muur_keuken'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.kasten_keuken
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/kasten.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.kasten_keuken'].state === 'on' ? (states['light.kasten_keuken'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.eetkamer
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/eetkamer.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.eetkamer'].state === 'on' ? (states['light.eetkamer'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.aanrecht
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/aanrecht.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.aanrecht'].state === 'on' ? (states['light.aanrecht'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.voordeur
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/voordeur.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.voordeur'].state === 'on' ? (states['light.voordeur'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.tuin_zijkant
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/lights/buiten.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.tuin_zijkant'].state === 'on' ? (states['light.tuin_zijkant'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                    #########################    WEATHER ANIMATIONS    #########################

                  - action: none
                    entity: weather.zuhause
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/weather/rainstorm.gif
                    state_filter:
                      "clear": opacity(0%)
                      "cloudy": opacity(0%)
                      "drizzle": opacity(0%)
                      "exceptional": opacity(0%)
                      "fog": opacity(0%)
                      "foggy": opacity(0%)
                      "fog-cloudy": opacity(0%)
                      "hail": opacity(0%)
                      "heavy-snow": opacity(0%)
                      "light-snow": opacity(0%)
                      "lightning": opacity(100%)
                      "lightning-rainy": opacity(100%)
                      "mostly-cloudy": opacity(0%)
                      "partlycloudy": opacity(0%)
                      "partly-cloudy": opacity(0%)
                      "partly-cloudy-drizzle": opacity(0%)
                      "partly-cloudy-thunder": opacity(100%)
                      "partly-cloudy-snow": opacity(0%)
                      "pouring": opacity(100%)
                      "rainy": opacity(100%)
                      "snow-sleet": opacity(0%)
                      "snowy": opacity(0%)
                      "snowy-rainy": opacity(0%)
                      "sunny": opacity(0%)
                      "thunder": opacity(100%)
                      "windy": opacity(0%)
                      "windy-variant": opacity(0%)
                    style:
                      left: 63%
                      mix-blend-mode: color-dodge
                      #opacity: 0
                      top: 89%
                      width: 47.5%
                    tap_action:
                      action: none
                    type: image

                    #########################    ROOM/GROUP CONTROL TRANSPARENT IMAGES    #########################

                    #  Used to create tap areas and popups for each room, referring to light groups.
                    #  Because the above images overlap each other, I used seperate transparent images
                    #. to handle the control of the room, so you always tap the right room.
                    #
                    #  browser_mod.popup is used for a tap and hold for a custom popup card

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.woonkamer
                      - left: 54%
                      - top: 21%
                      - height: 21%
                      - width: 16%
                      - type: image
                      - name: Woonkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.woonkamer
                      - left: 70%
                      - top: 21%
                      - height: 21%
                      - width: 16%
                      - type: image
                      - name: Woonkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.woonkamer
                      - left: 86%
                      - top: 21%
                      - height: 21%
                      - width: 16%
                      - type: image
                      - name: Woonkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.woonkamer
                      - left: 90%
                      - top: 40%
                      - height: 21%
                      - width: 17.5%
                      - type: image
                      - name: Woonkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.keuken
                      - left: 35%
                      - top: 21%
                      - height: 21%
                      - width: 16%
                      - type: image
                      - name: Keuken

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.keuken
                      - left: 35%
                      - top: 42.5%
                      - height: 16%
                      - width: 17%
                      - type: image
                      - name: Keuken

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.buiten
                      - left: 48%
                      - top: 77%
                      - height: 21%
                      - width: 20%
                      - type: image
                      - name: Buiten

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.buiten
                      - left: 69%
                      - top: 77%
                      - height: 21%
                      - width: 20%
                      - type: image
                      - name: Buiten

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.gang
                      - left: 65%
                      - top: 46.5%
                      - height: 12.5%
                      - width: 12.5%
                      - type: image
                      - name: Gang

                  - action: none
                    entity: sensor.afvalwijzer_next_type_and_date
                    hold_action: none
                    image: /local/transparent.png
                    style:
                      left: 42.3%
                      top: 67%
                      height: 8%
                      width: 7%
                      #border: 1px solid green
                    tap_action: !include popup/afval.yaml
                    type:
                      image

                      #########################    INDIVIDUAL LIGHT ICONS    #########################

                    #  These are the white state icons that appear over the floorplan.
                    #  They are the same as above, but instead of "areas" to control a group, they only
                    #. control individual lights
                    #
                    #  browser_mod.popup is used for a tap and hold for a custom popup card, custom styling
                    #  of the icon to make it appear white, etc.

                    ### Light Toggles

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.erker
                      - left: 93%
                      - top: 50%
                      - type: state-icon
                      - name: Erker

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.erker_bank
                      - left: 93%
                      - top: 30.5%
                      - type: state-icon
                      - name: Bank

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.schuifdeuren
                      - left: 49.5%
                      - top: 31.5%
                      - type: state-icon
                      - name: Schuifdeuren

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.eetkamer
                      - left: 37.5%
                      - top: 31.5%
                      - type: state-icon
                      - name: Tafel

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.kasten_keuken
                      - left: 49.5%
                      - top: 44.5%
                      - type: state-icon
                      - name: Kasten

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.muur_keuken
                      - left: 34.5%
                      - top: 15%
                      - type: state-icon
                      - name: Muur

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.aanrecht
                      - left: 26%
                      - top: 55%
                      - type: state-icon
                      - name: Aanrecht

                    ### Sonos keuken
                  - type: custom:decluttering-card
                    template: floorplan_media_player
                    variables:
                      - entity: media_player.keuken
                      - left: 27%
                      - top: 49%
                      - type: state-icon
                      - name: Sonos
                      - group1: media_player.keuken
                      - group1Name: Keuken

                    ### Sensors
                  - type: state-icon
                    entity: binary_sensor.buiten_sensor_motion
                    icon: "mdi:run"
                    style:
                      top: 68%
                      left: 37%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                  - type: state-icon
                    entity: binary_sensor.gang_sensor_motion
                    icon: "mdi:run"
                    style:
                      top: 54%
                      left: 64%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                    ### Temperature Labels
                  - type: state-label
                    entity: sensor.buiten_sensor_temperature
                    style:
                      top: 68%
                      left: 33%
                      color: "#000"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"
                      font-size: 11px
                      font-weight: bold

                    ### Camera - show more-info on click
                  - type: state-icon
                    entity: camera.oprit
                    icon: "mdi:cctv"
                    hold_action: none
                    style:
                      top: 63%
                      left: 37%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                    ### Toon
                  - type: state-icon
                    entity: climate.thermostat
                    icon: mdi:thermostat
                    title: Toon
                    style:
                      top: 37%
                      left: 70%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"
                    tap_action: !include popup/toon.yaml

                  - action: none
                    entity: media_player.samsung_woonkamer
                    hold_action: !include popup/woonkamer_tv.yaml
                    image: /local/ui/floorplan/tv_overlay.png
                    style:
                      left: 76.67%
                      opacity: "${states['media_player.samsung_woonkamer'].state === 'on' ? '0.8' : '0'}"
                      top: 24%
                      width: 10%
                    tap_action:
                      action: call-service
                      service: media_player.turn_off
                      service_data:
                        entity_id: media_player.samsung_woonkamer
                    type: image

                    #########################    NOW PLAYING ON PROJECTOR IN FLOORPLAN    #########################

                    # custom card to show whats playing on the screen when its playing (plex)

                  - type: "custom:now-playing-poster"
                    entity: media_player.plex_plex_samsung
                    style:
                      left: 74.5%
                      perspective-origin: "35%, 25%"
                      top: 18%
                      transform: >-
                        perspective(210px) scale(1.3, 1.1)  rotateX(0deg)
                        rotateY(0deg) rotateZ(0deg) translateY(0px)  skewX(-22deg)
                        skewY(0deg)
                      width: 5%

                    #################################################################
                    #                                                               #
                    #                     SIDEBAR : Rooms view                      #
                    #                                                               #
                    #################################################################

                    #########################    BACKGROUND    #########################

                  # - action: none
                  #   hold_action:
                  #     action: none
                  #   image: /local/ui/sidebar/sidebarBG2.png
                  #   style:
                  #     height: 100%
                  #     left: 11.73828125%
                  #     top: 50%
                  #     width: 23.4765625%
                  #   tap_action:
                  #     action: none
                  #   type: image

                  # - action: none
                  #   entity: sensor.christmas_time
                  #   state_image:
                  #     "True": /local/ui/sidebar/kerstballen.png
                  #     "False": /local/transparent.png
                  #   style:
                  #     opacity: 0.5
                  #     left: 11%
                  #     top: 8.5%
                  #     width: 20%
                  #   tap_action: none
                  #   type: image

                  # - action: none
                  #   entity: sensor.new_years
                  #   state_image:
                  #     "True": /local/ui/sidebar/oliebollen.png
                  #     "False": /local/transparent.png
                  #   style:
                  #     opacity: 0.5
                  #     left: 13%
                  #     top: 34.5%
                  #     width: 8%
                  #   tap_action: none
                  #   type: image

                    #########################    TIME AND DATE    #########################

                  - entity: sensor.time
                    hold_action:
                      action: none
                    style:
                      color: "rgba(255, 255, 255, 0.7)"
                      font-size: 5.41vw
                      font-weight: 200
                      left: 2.7%
                      letter-spacing: "-0.05vw"
                      max-width: 1px
                      top: 10%
                    tap_action:
                      action: none
                    type: state-label

                  - entity: sensor.date
                    hold_action:
                      action: none
                    style:
                      color: "rgba(255, 255, 255, 0.3)"
                      font-size: 1.3vw
                      font-weight: 300
                      left: 17.5%
                      letter-spacing: "-0.05vw"
                      text-align: left
                      top: 17%
                      width: 30%
                    tap_action:
                      action: none
                    type: state-label

                    #########################    MENU BUTTONS    #########################

                  - action: none
                    image: /local/ui/sidebar/rooms_on.png
                    style:
                      border-radius: 5vw
                      left: 11.7%
                      top: 26%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/0
                    type: image
                  - action: none
                    image: /local/ui/sidebar/Falkor_off.png
                    style:
                      left: 11.7%
                      top: 34%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/1
                    type: image
                  - action: none
                    image: /local/ui/sidebar/all_off.png
                    style:
                      left: 11.7%
                      top: 42%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/2
                    type: image
                  - action: none
                    image: /local/ui/sidebar/media_off.png
                    style:
                      left: 11.7%
                      top: 50%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/3
                    type: image

                  #################################################
                  #                                               #
                  #                AFVALWIJZER                    #
                  #                                               #
                  #################################################
                  - type: conditional
                    conditions:
                      - entity: input_boolean.afval
                        state: "on"
                    elements:
                      - type: custom:button-card
                        entity: sensor.afvalwijzer_next_type_and_date
                        aspect_ratio: 4.5/1
                        style:
                          top: 58%
                          left: 11.7%
                          width: 20.5078125%
                        show_icon: false
                        show_name: false
                        show_state: true
                        tap_action:
                          action: call-service
                          service: input_boolean.turn_off
                          service_data:
                            entity_id: input_boolean.afval
                        hold_action: none
                        custom_fields:
                          icon_test: >
                            <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                            <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                        styles:
                          state:
                            [
                              top: 25%,
                              left: 11%,
                              line-height: 2vw,
                              position: absolute,
                            ]
                          card:
                            [
                              font-family: Sf Display,
                              letter-spacing: 0.05vw,
                              font-weight: 400,
                              color: "rgba(255, 255, 255, 0.8)",
                              font-size: 1.34vw,
                              background-color: "rgba(115, 115, 115, 0.2)",
                              border-radius: 5.0vw,
                              box-shadow: none,
                              transition: none,
                            ]
                          custom_fields:
                            icon_test:
                              [
                                top: 25%,
                                left: 80%,
                                width: 2vw,
                                position: absolute,
                              ]

                    #########################    PEOPLE    #########################

                  # - action: none
                  #   entity: person.tobias
                  #   state_image:
                  #     home: /local/ui/people/tobias.png
                  #     its: /local/ui/people/tobias-away.png
                  #     not_home: /local/ui/people/tobias-away.png
                  #     unknown: /local/ui/people/tobias-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 5.5%
                  #     top: 66%
                  #     width: 4.0vw
                  #   tap_action: !include popup/tobias.yaml
                  #   hold_action: !include popup/tobias.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/ui/people/kroon.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 5.2%
                  #     top: 65.07%
                  #     width: 3.5vw
                  #   tap_action: !include popup/tobias.yaml
                  #   hold_action: !include popup/tobias.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.maaike
                  #   state_image:
                  #     home: /local/ui/people/maaike.png
                  #     not_home: /local/ui/people/maaike-away.png
                  #     bravis: /local/ui/people/maaike-away.png
                  #     unknown: /local/ui/people/maaike-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 11.0%
                  #     top: 66%
                  #     width: 4.0vw
                  #   tap_action: !include popup/maaike.yaml
                  #   hold_action: !include popup/maaike.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/ui/people/kroon.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 10.8%
                  #     top: 65.1%
                  #     width: 3.5vw
                  #   tap_action: !include popup/maaike.yaml
                  #   hold_action: !include popup/maaike.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.boris
                  #   state_image:
                  #     home: /local/ui/people/boris.png
                  #     not_home: /local/ui/people/boris-away.png
                  #     bravis: /local/ui/people/boris-away.png
                  #     unknown: /local/ui/people/boris-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 5.5%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/boris.yaml
                  #   hold_action: !include popup/boris.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/ui/people/kroon-1.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 5.3%
                  #     top: 72.6%
                  #     width: 3.3vw
                  #   tap_action: !include popup/boris.yaml
                  #   hold_action: !include popup/boris.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.reza
                  #   state_image:
                  #     home: /local/ui/people/reza.png
                  #     not_home: /local/ui/people/reza-away.png
                  #     bravis: /local/ui/people/reza-away.png
                  #     unknown: /local/ui/people/reza-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 11.0%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/reza.yaml
                  #   hold_action: !include popup/reza.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/ui/people/kroon-1.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 11.75%
                  #     top: 72.5%
                  #     width: 3.5vw
                  #   tap_action: !include popup/reza.yaml
                  #   hold_action: !include popup/reza.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.nova
                  #   state_image:
                  #     home: /local/ui/people/nova.png
                  #     not_home: /local/ui/people/nova-away.png
                  #     bravis: /local/ui/people/nova-away.png
                  #     unknown: /local/ui/people/nova-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 16.5%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/nova.yaml
                  #   hold_action: !include popup/nova.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/ui/people/kroon-1.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 17.1%
                  #     top: 72.8%
                  #     width: 3.25vw
                  #   tap_action: !include popup/nova.yaml
                  #   hold_action: !include popup/nova.yaml
                  #   type: image

                    #########################    Minigraph to show temperature inside and out    #########################

                  - color_thresholds:
                      - color: "#4dd2ff"
                        value: 10
                      - color: "#ffa31a"
                        value: 15
                      - color: "#ff1a1a"
                        value: 20
                    entities:
                      - sensor.toon_r_temperatuur
                      - sensor.buienradar_ground_temperature
                    icon: "mdi:home-thermometer-outline"
                    show:
                      icon: true
                      legend: false
                      name: false
                    style: |
                      :host {
                        left: 11.6%;
                        top:  92.9%;
                        width: 23.5%;
                        overflow: hidden;
                        height: 15%;
                        background: none  !important;
                        box-shadow: none !important;
                      }
                      .header {
                        font-size: 1vw;
                        position: absolute !important;
                        width: 5% !important;
                        padding: 0 !important;
                        right: 20% !important;
                        top: 15% !important;
                      }
                      ha-card {
                        background: none  !important;
                        padding: 0 !important;
                      }
                      .icon > ha-icon {
                        width:1.8vw !important;
                        height:1.8vw !important;
                      }
                      .state__time{
                        font-size:0.9vw !important;
                        margin-top: 0.2vw;
                        font-weight: 300 !important;
                        opacity: 0.4 !important;
                      }
                      .states {
                        font-size: 0.5vw !important;
                        padding: 1vw 0vw 0vw 0vw  !important;
                        margin: auto !important;
                        width: 68%;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/4
                    type: "custom:mini-graph-card"

                    #########################    Mini Weather card    #########################

                  - backdrop: false
                    entity: weather.zuhause
                    name: " "
                    style: |
                      :host {
                        left: 11.4%;
                        top:  85.5%;
                        width: 17%;
                        height: 7% !important;
                        overflow: hidden;
                        height: 8.5vw;
                        background: none  !important;
                        box-shadow: none !important;
                        font-size: 1vw !important;
                      }
                      ha-card {
                        background: none  !important;
                        box-shadow: none !important;
                        flex-flow: row-reverse !important;
                        padding: 0 !important;
                      }
                      .weather__info--add{
                        display : none !important;
                      }
                      .weather__info{
                        flex-grow: 1;
                        min-height: 0 !important;
                        height: 2.4vw;
                        margin-left: 0.6vw;
                      }
                      .weather__icon{
                        margin-right:0.5% !important;
                        margin-top: -3%;
                        width: 2vw !important;
                        height: 2vw !important;
                        flex: 0 0 2vw !important;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/4
                    type: "custom:simple-weather-card"

                  #########################   OVERLAY SHADOW IMAGES    #########################

                  - action: none
                    image: /local/ui/sidebar/sideShadow.png
                    style:
                      height: 35%
                      left: 18.45%
                      pointer-events: none
                      top: 83%
                      width: 10%
                    type: image
                  - action: none
                    image: /local/ui/sidebar/sidebarInnerShadow.png
                    style:
                      left: 22.83%
                      opacity: 0.7
                      pointer-events: none
                      top: 50%
                      width: 1.2109375%
                    type: image

                    #########################   Styled now playing Media Player    #########################

                    # when the media player is playing, this overlaps the "Media" menu button

                  - entity: media_player.spotify_dolphinxid99
                    hide:
                      controls: true
                      name: true
                      power: true
                      source: true
                      volume: true
                      progress: true
                    idle_view:
                      after: 0.1
                      when_idle: true
                      when_paused: true
                      when_standby: true
                    style: |
                      :host {
                        left: 11.7%;
                        top: 49.5%;
                        width: 20.5078125%;
                        border-radius: 5vw;
                        overflow: hidden;
                        height: 3.8vw;
                        box-shadow: none !important;
                      }
                      ha-card {
                        border-radius: 5vw;
                        overflow: hidden !important;
                        box-shadow: none !important;
                        padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
                      }
                      ha-card.--inactive .mmp-player{
                        opacity: 0 !important;
                      }
                      #primaryProgress{
                        background: #474A52 !important; 
                      }              
                      .entity__info{
                        height: 2.6vw;
                        width: 65% !important;
                        max-height: 20vw !important;
                        font-size: 0.9vw !important;
                        margin:0 0 0 1.04vw !important;
                        display: inline-block !important;
                      }
                      div.mmp__bg{
                        background: #1E2022;
                      }
                      ha-card.--inactive div.mmp__bg{
                        background: none;
                      }
                      div.mmp-player {
                        padding: 0vw;
                        height: 100%;
                      }
                      ha-card {
                        height: 100%;
                      }
                      mmp-powerstrip {
                        width: 100%;
                        display: block;
                        padding:0;
                      }
                      ha-icon{
                        display: block !important;
                        height: 2vw !important;
                        width: 2vw !important;
                        margin: 0.3vw 1.5vw 0 0vw !important;
                      }
                      .entity__icon{
                        float:right;
                        padding: 0.1vw;
                        width: 3vw !important;
                        height: 3vw !important;
                        min-width: 0 !important;
                        min-height: 0 !important;
                        margin:0 !important;
                        display: inline-block !important;
                      }

                      .mmp-player__core {
                        height: auto;
                        width: 100% !important;
                        margin-bottom: 0.1vw;
                        display: block !important;
                        position: absolute !important;
                        bottom: 0;
                      }

                      .entity__info__media{
                        max-height: 20vw !important;
                      }
                      .entity__info__media span::before{
                        content: none !important
                      }
                      .attr__media_title{
                        display:block;
                        color: white;
                        font-weight: 300;
                        font-size: 1.2vw !important;
                      }
                      .attr__media_artist{
                        font-size: 0.8vw !important;
                        font-weight: 200;
                        color: white;
                      }
                      .entity__artwork{
                        display:inline-block;
                        float: right;
                        margin-right: 0 !important;
                        display: inline-block;
                        float: right;
                        width: 2.2vw !important;
                        height: 2.2vw !important;
                        min-width: 0 !important;
                        margin: 0.2vw 1vw 0 0 !important;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/3
                    type: "custom:mini-media-player"

              ###########################################################################################################
              #                                                                                                         #
              #                                               First Floor                                               #
              #                                                                                                         #
              ###########################################################################################################

            - type: "custom:config-template-card"
              entities:
                ### All the light entities I'm using
                - light.keuken
                - light.woonkamer
                - light.gang
                - light.muur_keuken
                - light.kasten_keuken
                - light.aanrecht
                - light.buiten
                - light.voordeur
                - light.erker
                - light.schuifdeuren
                - light.erker_bank
                - light.overkapping_rechts
                - light.tuin_zijkant
                - light.bathroom
                - light.wasruimte
                - light.overloop
                - person.boris
                - person.reza
                - person.nova
                - sun.sun
                - sensor.time
                - sensor.date
                # - sensor.christmas_time
                - switch.plug_versterker_aangezet

              card:
                ###################   Picture Elements Card    #####################
                type: picture-elements
                image: /local/ui/floorplan/boven/night.png
                style: |
                  ha-card:first-child {
                    background: rgba(42, 46, 48, 1)
                  }
                elements:
                  #########################    DAY BASE FLOORPLAN OVERLAY    #########################

                  - action: none
                    entity: sun.sun
                    hold_action:
                      action: none
                    state_image:
                      above_horizon: /local/ui/floorplan/boven/day.png
                      below_horizon: /local/ui/floorplan/transparent.png
                    style:
                      height: 100%
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${ states['sensor.sunlight_opacity'].state }"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                    #########################    INDIVIDUAL LIGHTS - BLENDED IMAGE OVERLAYS    #########################

                  - action: none
                    entity: person.boris
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/boris1.png
                    state_filter:
                      not_home: opacity(0%)
                      home: opacity(100%)
                    style:
                      left: 50%
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: person.nova
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/nova.png
                    state_filter:
                      not_home: opacity(0%)
                      home: opacity(100%)
                    style:
                      left: 50%
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: person.reza
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/reza.png
                    state_filter:
                      not_home: opacity(0%)
                      home: opacity(100%)
                    style:
                      left: 50%
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.bathroom
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/badkamer.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.bathroom'].state === 'on' ? (states['light.bathroom'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.wasruimte
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/kastenkamer.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.wasruimte'].state === 'on' ? (states['light.wasruimte'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.overloop
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/overloop.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.overloop'].state === 'on' ? (states['light.overloop'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.gang
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/gang.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.gang'].state === 'on' ? (states['light.gang'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.kasten_keuken
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/kasten.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.kasten_keuken'].state === 'on' ? (states['light.kasten_keuken'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.erker
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/erker.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.erker'].state === 'on' ? (states['light.erker'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.erker_bank
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/bank.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.erker_bank'].state === 'on' ? (states['light.erker_bank'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                  - action: none
                    entity: light.voordeur
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/boven/voordeur.png
                    style:
                      left: 50%
                      mix-blend-mode: lighten
                      opacity: "${states['light.voordeur'].state === 'on' ? (states['light.voordeur'].attributes.brightness / 255) : '0'}"
                      top: 50%
                      width: 100%
                    tap_action:
                      action: none
                    type: image

                    #########################    WEATHER ANIMATIONS    #########################

                  - action: none
                    entity: weather.zuhause
                    hold_action:
                      action: none
                    image: /local/ui/floorplan/weather/rainstorm.gif
                    state_filter:
                      "clear": opacity(0%)
                      "cloudy": opacity(0%)
                      "drizzle": opacity(0%)
                      "exceptional": opacity(0%)
                      "fog": opacity(0%)
                      "foggy": opacity(0%)
                      "fog-cloudy": opacity(0%)
                      "hail": opacity(0%)
                      "heavy-snow": opacity(0%)
                      "light-snow": opacity(0%)
                      "lightning": opacity(100%)
                      "lightning-rainy": opacity(100%)
                      "mostly-cloudy": opacity(0%)
                      "partlycloudy": opacity(0%)
                      "partly-cloudy": opacity(0%)
                      "partly-cloudy-drizzle": opacity(0%)
                      "partly-cloudy-thunder": opacity(100%)
                      "partly-cloudy-snow": opacity(0%)
                      "pouring": opacity(100%)
                      "rainy": opacity(100%)
                      "snow-sleet": opacity(0%)
                      "snowy": opacity(0%)
                      "snowy-rainy": opacity(0%)
                      "sunny": opacity(0%)
                      "thunder": opacity(100%)
                      "windy": opacity(0%)
                      "windy-variant": opacity(0%)
                    style:
                      left: 63%
                      mix-blend-mode: color-dodge
                      top: 91%
                      width: 45%
                    tap_action:
                      action: none
                    type: image

                    #########################    ROOM/GROUP CONTROL TRANSPARENT IMAGES    #########################

                    #  Used to create tap areas and popups for each room, referring to light groups.
                    #  Because the above images overlap each other, I used seperate transparent images
                    #. to handle the control of the room, so you always tap the right room.
                    #
                    #  browser_mod.popup is used for a tap and hold for a custom popup card

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.buiten
                      - left: 48%
                      - top: 77%
                      - height: 21%
                      - width: 20%
                      - type: image
                      - name: Buiten

                  - type: custom:decluttering-card
                    template: floorplan_light_image
                    variables:
                      - entity: light.buiten
                      - left: 69%
                      - top: 77%
                      - height: 21%
                      - width: 20%
                      - type: image
                      - name: Buiten

                  - action: none
                    entity: sensor.afvalwijzer_next_type_and_date
                    hold_action: none
                    image: /local/transparent.png
                    style:
                      left: 43%
                      top: 71%
                      height: 7%
                      width: 6.5%
                    tap_action: !include popup/afval.yaml
                    type:
                      image

                      #########################    INDIVIDUAL LIGHT ICONS    #########################

                    #  These are the white state icons that appear over the floorplan.
                    #  They are the same as above, but instead of "areas" to control a group, they only
                    #. control individual lights
                    #
                    #  browser_mod.popup is used for a tap and hold for a custom popup card, custom styling
                    #  of the icon to make it appear white, etc.

                    ### Light Toggles

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.bathroom
                      - left: 36.5%
                      - top: 35.5%
                      - type: state-icon
                      - name: Badkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.wasruimte
                      - left: 50.5%
                      - top: 35.5%
                      - type: state-icon
                      - name: Kastenkamer

                  - type: custom:decluttering-card
                    template: floorplan_light_icon
                    variables:
                      - entity: light.overloop
                      - left: 68%
                      - top: 14%
                      - type: state-icon
                      - name: Overloop

                    ### Sensors
                  - type: state-icon
                    entity: binary_sensor.buiten_sensor_motion
                    icon: "mdi:run"
                    style:
                      top: 73%
                      left: 35%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                  - type: state-icon
                    entity: binary_sensor.overloop_motion
                    icon: "mdi:run"
                    style:
                      top: 13%
                      left: 76%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                    ### Temperature Labels
                  - type: state-label
                    entity: sensor.buiten_sensor_temperature
                    style:
                      top: 73%
                      left: 32%
                      color: "#000"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"
                      font-size: 11px
                      font-weight: bold

                    ### Camera - show more-info on click
                  - type: state-icon
                    entity: camera.oprit
                    icon: "mdi:cctv"
                    hold_action: none
                    style:
                      top: 67.5%
                      left: 35%
                      --iron-icon-stroke-color: "#969696"
                      border-radius: 50%
                      text-align: center
                      background-color: "rgba(255, 255, 255, 0.3)"

                    #################################################################
                    #                                                               #
                    #                     SIDEBAR : Rooms view                      #
                    #                                                               #
                    #################################################################

                    #########################    BACKGROUND    #########################

                  # - action: none
                  #   hold_action:
                  #     action: none
                  #   image: /local/ui/sidebar/sidebarBG2.png
                  #   style:
                  #     height: 100%
                  #     left: 11.73828125%
                  #     top: 50%
                  #     width: 23.4765625%
                  #   tap_action:
                  #     action: none
                  #   type: image

                  # - action: none
                  #   entity: sensor.christmas_time
                  #   state_image:
                  #     "True": /local/ui/sidebar/kerstballen.png
                  #     "False": /local/transparent.png
                  #   style:
                  #     opacity: 0.5
                  #     left: 11%
                  #     top: 8.5%
                  #     width: 20%
                  #   tap_action: none
                  #   type: image

                  # - action: none
                  #   entity: sensor.new_years
                  #   state_image:
                  #     "True": /local/ui/sidebar/oliebollen.png
                  #     "False": /local/transparent.png
                  #   style:
                  #     opacity: 0.5
                  #     left: 13%
                  #     top: 34.5%
                  #     width: 8%
                  #   tap_action: none
                  #   type: image

                    #########################    TIME AND DATE    #########################

                  - entity: sensor.time
                    hold_action:
                      action: none
                    style:
                      color: "rgba(255, 255, 255, 0.7)"
                      font-size: 5.41vw
                      font-weight: 200
                      left: 2.7%
                      letter-spacing: "-0.05vw"
                      max-width: 1px
                      top: 10%
                    tap_action:
                      action: none
                    type: state-label

                  - entity: sensor.date
                    hold_action:
                      action: none
                    style:
                      color: "rgba(255, 255, 255, 0.3)"
                      font-size: 1.3vw
                      font-weight: 300
                      left: 17.5%
                      letter-spacing: "-0.05vw"
                      text-align: left
                      top: 17%
                      width: 30%
                    tap_action:
                      action: none
                    type: state-label

                    #########################    MENU BUTTONS    #########################

                  - action: none
                    image: /local/ui/sidebar/rooms_on.png
                    style:
                      border-radius: 5vw
                      left: 11.7%
                      top: 26%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/0
                    type: image
                  - action: none
                    image: /local/ui/sidebar/Falkor_off.png
                    style:
                      left: 11.7%
                      top: 34%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/1
                    type: image
                  - action: none
                    image: /local/ui/sidebar/all_off.png
                    style:
                      left: 11.7%
                      top: 42%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/2
                    type: image
                  - action: none
                    image: /local/ui/sidebar/media_off.png
                    style:
                      left: 11.7%
                      top: 50%
                      width: 20.5078125%
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/3
                    type: image

                  #################################################
                  #                                               #
                  #                AFVALWIJZER                    #
                  #                                               #
                  #################################################
                  - type: conditional
                    conditions:
                      - entity: input_boolean.afval
                        state: "on"
                    elements:
                      - type: custom:button-card
                        entity: sensor.afvalwijzer_next_type_and_date
                        aspect_ratio: 4.5/1
                        style:
                          top: 58%
                          left: 11.7%
                          width: 20.5078125%
                        show_icon: false
                        show_name: false
                        show_state: true
                        tap_action:
                          action: call-service
                          service: input_boolean.turn_off
                          service_data:
                            entity_id: input_boolean.afval
                        hold_action: none
                        custom_fields:
                          icon_test: >
                            <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                            <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                        styles:
                          state:
                            [
                              top: 25%,
                              left: 11%,
                              line-height: 2vw,
                              position: absolute,
                            ]
                          card:
                            [
                              font-family: Sf Display,
                              letter-spacing: 0.05vw,
                              font-weight: 400,
                              color: "rgba(255, 255, 255, 0.8)",
                              font-size: 1.34vw,
                              background-color: "rgba(115, 115, 115, 0.2)",
                              border-radius: 5.0vw,
                              box-shadow: none,
                              transition: none,
                            ]
                          custom_fields:
                            icon_test:
                              [
                                top: 25%,
                                left: 80%,
                                width: 2vw,
                                position: absolute,
                              ]

                    #########################    PEOPLE    #########################

                  # - action: none
                  #   entity: person.tobias
                  #   state_image:
                  #     home: /local/ui/people/tobias.png
                  #     its: /local/ui/people/tobias-away.png
                  #     not_home: /local/ui/people/tobias-away.png
                  #     unknown: /local/ui/people/tobias-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 5.5%
                  #     top: 66%
                  #     width: 4.0vw
                  #   tap_action: !include popup/tobias.yaml
                  #   hold_action: !include popup/tobias.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/ui/people/kroon.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 5.2%
                  #     top: 65.07%
                  #     width: 3.5vw
                  #   tap_action: !include popup/tobias.yaml
                  #   hold_action: !include popup/tobias.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.maaike
                  #   state_image:
                  #     home: /local/ui/people/maaike.png
                  #     not_home: /local/ui/people/maaike-away.png
                  #     bravis: /local/ui/people/maaike-away.png
                  #     unknown: /local/ui/people/maaike-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 11.0%
                  #     top: 66%
                  #     width: 4.0vw
                  #   tap_action: !include popup/maaike.yaml
                  #   hold_action: !include popup/maaike.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/ui/people/kroon.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 10.8%
                  #     top: 65.1%
                  #     width: 3.5vw
                  #   tap_action: !include popup/maaike.yaml
                  #   hold_action: !include popup/maaike.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.boris
                  #   state_image:
                  #     home: /local/ui/people/boris.png
                  #     not_home: /local/ui/people/boris-away.png
                  #     bravis: /local/ui/people/boris-away.png
                  #     unknown: /local/ui/people/boris-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 5.5%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/boris.yaml
                  #   hold_action: !include popup/boris.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/ui/people/kroon-1.png
                  #     reza: /local/transparent.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 5.3%
                  #     top: 72.6%
                  #     width: 3.3vw
                  #   tap_action: !include popup/boris.yaml
                  #   hold_action: !include popup/boris.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.reza
                  #   state_image:
                  #     home: /local/ui/people/reza.png
                  #     not_home: /local/ui/people/reza-away.png
                  #     bravis: /local/ui/people/reza-away.png
                  #     unknown: /local/ui/people/reza-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 11.0%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/reza.yaml
                  #   hold_action: !include popup/reza.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/ui/people/kroon-1.png
                  #     nova: /local/transparent.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 11.75%
                  #     top: 72.5%
                  #     width: 3.5vw
                  #   tap_action: !include popup/reza.yaml
                  #   hold_action: !include popup/reza.yaml
                  #   type: image

                  # - action: none
                  #   entity: person.nova
                  #   state_image:
                  #     home: /local/ui/people/nova.png
                  #     not_home: /local/ui/people/nova-away.png
                  #     bravis: /local/ui/people/nova-away.png
                  #     unknown: /local/ui/people/nova-away.png
                  #   style:
                  #     background-color: "rgba(255, 255, 255, 0.0)"
                  #     border-radius: 10vw
                  #     height: 4.0vw
                  #     left: 16.5%
                  #     top: 73%
                  #     width: 4.0vw
                  #   tap_action: !include popup/nova.yaml
                  #   hold_action: !include popup/nova.yaml
                  #   type: image

                  # - action: none
                  #   entity: sensor.stappen
                  #   state_image:
                  #     tobias: /local/transparent.png
                  #     maaike: /local/transparent.png
                  #     boris: /local/transparent.png
                  #     reza: /local/transparent.png
                  #     nova: /local/ui/people/kroon-1.png
                  #   style:
                  #     height: 4.0vw
                  #     left: 17.1%
                  #     top: 72.8%
                  #     width: 3.25vw
                  #   tap_action: !include popup/nova.yaml
                  #   hold_action: !include popup/nova.yaml
                  #   type: image

                    #########################    Minigraph to show temperature inside and out    #########################

                  - color_thresholds:
                      - color: "#4dd2ff"
                        value: 10
                      - color: "#ffa31a"
                        value: 15
                      - color: "#ff1a1a"
                        value: 20
                    entities:
                      - sensor.toon_r_temperatuur
                      - sensor.buienradar_ground_temperature
                    icon: "mdi:home-thermometer-outline"
                    show:
                      icon: true
                      legend: false
                      name: false
                    style: |
                      :host {
                        left: 11.6%;
                        top:  92.9%;
                        width: 23.5%;
                        overflow: hidden;
                        height: 15%;
                        background: none  !important;
                        box-shadow: none !important;
                      }
                      .header {
                        font-size: 1vw;
                        position: absolute !important;
                        width: 5% !important;
                        padding: 0 !important;
                        right: 20% !important;
                        top: 15% !important;
                      }
                      ha-card {
                        background: none  !important;
                        padding: 0 !important;
                      }
                      .icon > ha-icon {
                        width:1.8vw !important;
                        height:1.8vw !important;
                      }
                      .state__time{
                        font-size:0.9vw !important;
                        margin-top: 0.2vw;
                        font-weight: 300 !important;
                        opacity: 0.4 !important;
                      }
                      .states {
                        font-size: 0.5vw !important;
                        padding: 1vw 0vw 0vw 0vw  !important;
                        margin: auto !important;
                        width: 68%;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/4
                    type: "custom:mini-graph-card"

                    #########################    Mini Weather card    #########################

                  - backdrop: false
                    entity: weather.zuhause
                    name: " "
                    style: |
                      :host {
                        left: 11.4%;
                        top:  85.5%;
                        width: 17%;
                        height: 7% !important;
                        overflow: hidden;
                        height: 8.5vw;
                        background: none  !important;
                        box-shadow: none !important;
                        font-size: 1vw !important;
                      }
                      ha-card {
                        background: none  !important;
                        box-shadow: none !important;
                        flex-flow: row-reverse !important;
                        padding: 0 !important;
                      }
                      .weather__info--add{
                        display : none !important;
                      }
                      .weather__info{
                        flex-grow: 1;
                        min-height: 0 !important;
                        height: 2.4vw;
                        margin-left: 0.6vw;
                      }
                      .weather__icon{
                        margin-right:0.5% !important;
                        margin-top: -3%;
                        width: 2vw !important;
                        height: 2vw !important;
                        flex: 0 0 2vw !important;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/4
                    type: "custom:simple-weather-card"

                    #########################   OVERLAY SHADOW IMAGES    #########################

                  - action: none
                    image: /local/ui/sidebar/sideShadow.png
                    style:
                      height: 35%
                      left: 18.45%
                      pointer-events: none
                      top: 83%
                      width: 10%
                    type: image
                  - action: none
                    image: /local/ui/sidebar/sidebarInnerShadow.png
                    style:
                      left: 22.83%
                      opacity: 0.7
                      pointer-events: none
                      top: 50%
                      width: 1.2109375%
                    type: image

                    #########################   Styled now playing Media Player    #########################

                    # when the media player is playing, this overlaps the "Media" menu button

                  - entity: media_player.spotify_dolphinxid99
                    hide:
                      controls: true
                      name: true
                      power: true
                      source: true
                      volume: true
                      progress: true
                    idle_view:
                      after: 0.1
                      when_idle: true
                      when_paused: true
                      when_standby: true
                    style: |
                      :host {
                        left: 11.7%;
                        top: 49.5%;
                        width: 20.5078125%;
                        border-radius: 5vw;
                        overflow: hidden;
                        height: 3.8vw;
                        box-shadow: none !important;
                      }
                      ha-card {
                        border-radius: 5vw;
                        overflow: hidden !important;
                        box-shadow: none !important;
                        padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
                      }
                      ha-card.--inactive .mmp-player{
                        opacity: 0 !important;
                      }
                      #primaryProgress{
                        background: #474A52 !important; 
                      }              
                      .entity__info{
                        height: 2.6vw;
                        width: 65% !important;
                        max-height: 20vw !important;
                        font-size: 0.9vw !important;
                        margin:0 0 0 1.04vw !important;
                        display: inline-block !important;
                      }
                      div.mmp__bg{
                        background: #1E2022;
                      }
                      ha-card.--inactive div.mmp__bg{
                        background: none;
                      }
                      div.mmp-player {
                        padding: 0vw;
                        height: 100%;
                      }
                      ha-card {
                        height: 100%;
                      }
                      mmp-powerstrip {
                        width: 100%;
                        display: block;
                        padding:0;
                      }
                      ha-icon{
                        display: block !important;
                        height: 2vw !important;
                        width: 2vw !important;
                        margin: 0.3vw 1.5vw 0 0vw !important;
                      }
                      .entity__icon{
                        float:right;
                        padding: 0.1vw;
                        width: 3vw !important;
                        height: 3vw !important;
                        min-width: 0 !important;
                        min-height: 0 !important;
                        margin:0 !important;
                        display: inline-block !important;
                      }

                      .mmp-player__core {
                        height: auto;
                        width: 100% !important;
                        margin-bottom: 0.1vw;
                        display: block !important;
                        position: absolute !important;
                        bottom: 0;
                      }

                      .entity__info__media{
                        max-height: 20vw !important;
                      }
                      .entity__info__media span::before{
                        content: none !important
                      }
                      .attr__media_title{
                        display:block;
                        color: white;
                        font-weight: 300;
                        font-size: 1.2vw !important;
                      }
                      .attr__media_artist{
                        font-size: 0.8vw !important;
                        font-weight: 200;
                        color: white;
                      }
                      .entity__artwork{
                        display:inline-block;
                        float: right;
                        margin-right: 0 !important;
                        display: inline-block;
                        float: right;
                        width: 2.2vw !important;
                        height: 2.2vw !important;
                        min-width: 0 !important;
                        margin: 0.2vw 1vw 0 0 !important;
                      }
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace-yaml/3
                    type: "custom:mini-media-player"

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                   Tesla Falkor view                                                                       #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Car
    badges: []
    icon: "mdi:car-connected"
    panel: true
    cards:
      - type: picture-elements
        image: /local/ui/tesla/Tesla1.png
        style: |
          ha-card:first-child {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          - action: none
            entity: input_number.charger
            tap_action: !include popup/tesla.yaml
            hold_action: !include popup/tesla.yaml
            state_image:
              "1.0": /local/ui/tesla/Teslacharge1.png
              "0.0": /local/ui/tesla/Tesla1.png
            style:
              top: 50%
              left: 50%
              width: 100%
            type: image

          - type: state-icon
            entity: binary_sensor.falkor_online_sensor
            style:
              right: 0
              top: 5px
              margin-top: 5px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: binary_sensor.falkor_online_sensor
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              right: 36px
              margin-top: 0px

          - type: state-icon
            entity: binary_sensor.falkor_parking_brake_sensor
            style:
              right: 0
              top: 5px
              margin-top: 37px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: binary_sensor.falkor_parking_brake_sensor
            attribute: "friendly_name"
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              right: 36px
              margin-top: 32px

          - type: state-icon
            entity: climate.falkor_hvac_climate_system
            style:
              right: 0
              top: 5px
              margin-top: 69px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: climate.falkor_hvac_climate_system
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              right: 36px
              margin-top: 64px

          - type: state-icon
            entity: device_tracker.falkor_location_tracker
            style:
              right: 0
              top: 5px
              margin-top: 101px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: device_tracker.falkor_location_tracker
            hold_action:
              action: call-service
              service: browser_mod.popup
              service_data:
                card:
                  type: vertical-stack
                  cards:
                    - type: map
                      aspect_ratio: 16:9
                      default_zoom: 10
                      entities:
                        - device_tracker.tesla_location
                      style:
                        "--ha-card-border-radius": 0vw 0vw 0.8vw 0.8vw
                        border-radius: 0.8vw
                        opacity: 0.9
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              right: 36px
              margin-top: 96px

          - type: state-icon
            entity: sensor.falkor_mileage_sensor
            style:
              right: 0
              top: 5px
              margin-top: 133px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.falkor_mileage_sensor
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              right: 36px
              margin-top: 128px

          - type: state-icon
            entity: lock.falkor_charger_door_lock
            style:
              left: 450px
              top: 5px
              margin-top: 5px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: lock.falkor_charger_door_lock
            title: Charger door
            attribute: "friendly_name"
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              left: 480px
              margin-top: 0px

          - type: state-icon
            entity: lock.falkor_door_lock
            style:
              left: 450px
              top: 5px
              margin-top: 37px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: lock.falkor_door_lock
            title: Doors
            attribute: "friendly_name"
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              left: 480px
              margin-top: 32px

          - type: state-icon
            entity: lock.falkor_frunk_lock
            style:
              left: 450px
              top: 5px
              margin-top: 69px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: lock.falkor_frunk_lock
            title: Frunk
            attribute: "friendly_name"
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              left: 480px
              margin-top: 64px

          - type: state-icon
            entity: lock.falkor_trunk_lock
            style:
              left: 450px
              top: 5px
              margin-top: 101px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: lock.falkor_trunk_lock
            title: Trunk
            attribute: "friendly_name"
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              top: 5px
              left: 480px
              margin-top: 96px

          - type: state-icon
            entity: sensor.falkor_battery_sensor
            style:
              left: 450px
              bottom: 10px
              margin-bottom: 10px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.falkor_battery_sensor
            title: Battery
            prefix: "Battery: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              left: 480px
              margin-bottom: 0px

          - type: state-icon
            entity: binary_sensor.falkor_charger_sensor
            style:
              left: 450px
              bottom: 10px
              margin-bottom: 42px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: binary_sensor.falkor_charger_sensor
            title: Charging
            prefix: "Charging: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              left: 480px
              margin-bottom: 32px

          - type: state-icon
            entity: sensor.falkor_range_sensor
            style:
              left: 450px
              bottom: 10px
              margin-bottom: 74px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.falkor_range_sensor
            title: Range
            prefix: "Range: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              left: 480px
              margin-bottom: 64px

          - type: state-icon
            entity: sensor.tesla_speed
            style:
              left: 450px
              bottom: 10px
              margin-bottom: 106px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.tesla_speed
            title: Speed
            prefix: "Speed: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              left: 480px
              margin-bottom: 96px

          - type: state-icon
            entity: sensor.falkor_temperature_sensor_inside
            style:
              right: 0
              bottom: 10px
              margin-bottom: 10px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.falkor_temperature_sensor_inside
            title: Inside
            prefix: "Inside: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              right: 30px
              margin-bottom: 0px

          - type: state-icon
            entity: sensor.falkor_temperature_sensor_outside
            style:
              right: 0
              bottom: 10px
              margin-bottom: 42px
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              "--paper-item-icon-color": white
          - type: state-label
            entity: sensor.falkor_temperature_sensor_outside
            title: Outside
            prefix: "Outside: "
            style:
              transform: initial
              font-size: 1.5em
              line-height: 2.5em
              bottom: 5px
              right: 30px
              margin-bottom: 32px

              #################################################################
              #                                                               #
              #                     SIDEBAR : Tesla Falkor                    #
              #                                                               #
              #################################################################

              #########################    BACKGROUND    #########################

          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image

          # - action: none
          #   entity: sensor.christmas_time
          #   state_image:
          #     "True": /local/ui/sidebar/kerstballen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 11%
          #     top: 8.5%
          #     width: 20%
          #   tap_action: none
          #   type:
          #     image

              #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.7)"
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: "-0.05vw"
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.3)"
              font-size: 1.3vw
              font-weight: 300
              left: 17.5%
              letter-spacing: "-0.05vw"
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type:
              state-label

              #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              border-radius: 5vw
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/0
            type: image
          - action: none
            image: /local/ui/sidebar/Falkor_on.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/1
            type: image
          - action: none
            entity: sensor.new_years
            state_image:
              "True": /local/ui/sidebar/oliebollen.png
              "False": /local/transparent.png
            style:
              opacity: 0.5
              left: 13%
              top: 34.5%
              width: 8%
            tap_action: none
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/2
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: image

          #################################################
          #                                               #
          #                AFVALWIJZER                    #
          #                                               #
          #################################################
          - type: conditional
            conditions:
              - entity: input_boolean.afval
                state: "on"
            elements:
              - type: custom:button-card
                entity: sensor.afvalwijzer_next_type_and_date
                aspect_ratio: 4.5/1
                style:
                  top: 58%
                  left: 11.7%
                  width: 20.5078125%
                show_icon: false
                show_name: false
                show_state: true
                tap_action:
                  action: call-service
                  service: input_boolean.turn_off
                  service_data:
                    entity_id: input_boolean.afval
                hold_action: none
                custom_fields:
                  icon_test: >
                    <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                    <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                styles:
                  state:
                    [top: 25%, left: 11%, line-height: 2vw, position: absolute]
                  card:
                    [
                      font-family: Sf Display,
                      letter-spacing: 0.05vw,
                      font-weight: 400,
                      color: "rgba(255, 255, 255, 0.8)",
                      font-size: 1.34vw,
                      background-color: "rgba(115, 115, 115, 0.2)",
                      border-radius: 5.0vw,
                      box-shadow: none,
                      transition: none,
                    ]
                  custom_fields:
                    icon_test:
                      [top: 25%, left: 80%, width: 2vw, position: absolute]

            #########################    PEOPLE    #########################

          # - action: none
          #   entity: person.tobias
          #   state_image:
          #     home: /local/ui/people/tobias.png
          #     its: /local/ui/people/tobias-away.png
          #     not_home: /local/ui/people/tobias-away.png
          #     unknown: /local/ui/people/tobias-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/ui/people/kroon.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.2%
          #     top: 65.07%
          #     width: 3.5vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: person.maaike
          #   state_image:
          #     home: /local/ui/people/maaike.png
          #     not_home: /local/ui/people/maaike-away.png
          #     bravis: /local/ui/people/maaike-away.png
          #     unknown: /local/ui/people/maaike-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/ui/people/kroon.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 10.8%
          #     top: 65.1%
          #     width: 3.5vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: person.boris
          #   state_image:
          #     home: /local/ui/people/boris.png
          #     not_home: /local/ui/people/boris-away.png
          #     bravis: /local/ui/people/boris-away.png
          #     unknown: /local/ui/people/boris-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/ui/people/kroon-1.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.3%
          #     top: 72.6%
          #     width: 3.3vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: person.reza
          #   state_image:
          #     home: /local/ui/people/reza.png
          #     not_home: /local/ui/people/reza-away.png
          #     bravis: /local/ui/people/reza-away.png
          #     unknown: /local/ui/people/reza-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/ui/people/kroon-1.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 11.75%
          #     top: 72.5%
          #     width: 3.5vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: person.nova
          #   state_image:
          #     home: /local/ui/people/nova.png
          #     not_home: /local/ui/people/nova-away.png
          #     bravis: /local/ui/people/nova-away.png
          #     unknown: /local/ui/people/nova-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 16.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/ui/people/kroon-1.png
          #   style:
          #     height: 4.0vw
          #     left: 17.1%
          #     top: 72.8%
          #     width: 3.25vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

          - color_thresholds:
              - color: "#4dd2ff"
                value: 10
              - color: "#ffa31a"
                value: 15
              - color: "#ff1a1a"
                value: 20
            entities:
              - sensor.toon_r_temperatuur
              - sensor.buienradar_ground_temperature
            icon: "mdi:home-thermometer-outline"
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:mini-graph-card"
          - backdrop: false
            entity: weather.zuhause
            name: " "
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:simple-weather-card"

            #########################   OVERLAY SHADOW IMAGES    #########################

          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image

            #########################    NOW PLAYING SPOTIFY MENU BUTTON    #########################

          - entity: media_player.spotify_dolphinxid99
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top: 49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                background: #474A52 !important; 
              }              
              .entity__info{
                height: 2.6vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }

              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }

              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: 0.2vw 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: "custom:mini-media-player"

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                   All Devices (Entities) Homekit Style View                                               #
    #                                                                                                                                           #
    #############################################################################################################################################

    titel: &title
      entity: sensor.placeholder
      tap_action:
        action: none
      hold_action:
        action: none
      type: state-label
    style: &title-style
      color: "#bcbebf"
      font-family: SF Text
      font-size: 2vw
      font-weight: 350
      max-width: 1px
      cursor: default

  - title: Tasks
    icon: "mdi:home"
    badges: []
    panel: true
    views:
    cards:
      - type: picture-elements
        image: /local/ui/floorplan/blurred.png
        elements:
          - type: custom:hui-element
            card_type: markdown
            style: { opacity: 0 }
            content: preload

          #################################################
          #                                               #
          #                   COVID-19                    #
          #                                               #
          #################################################

          # - type: custom:hui-markdown-card
          #   class: coronavirus
          #   style: { top: 3.65%, left: 51.2% }
          #   content: >
          #     {% set break = ' ‍ ‍ ‍ ‍ ‍ ‍<font color="#2f3436">|</font> ‍ ‍ ‍ ‍ ‍ ‍' %}
          #     <font color='#6a7377'>
          #     <ha-icon icon="mdi:virus"></ha-icon> <b> Coronavirus</b>{{ break -}}
          #     <ha-icon icon="mdi:chart-bar"></ha-icon> <b> {{ states('sensor.netherlands_coronavirus_current') }}</b> total in NL{{ break -}}
          #     <ha-icon icon="mdi:emoticon-sad"></ha-icon> <b> {{ states('sensor.covid_today') }}</b> new today {{ break -}}
          #     <ha-icon icon="mdi:grave-stone"></ha-icon> <b> {{ states('sensor.netherlands_coronavirus_deaths') }}</b> total deaths
          #     </font>

          #################################################
          #                                               #
          #                  INFO BUTTON                  #
          #                                               #
          #################################################

          - type: icon
            icon: mdi:information-outline
            title: Information
            style:
              top: 94.5%
              left: 52.1%
              color: rgb(255, 255, 255)
              opacity: 0.1
              padding: 0.8vw
              --mdc-icon-size: 4vw
            tap_action: !include popup/information.yaml

          - type: conditional
            conditions:
              - entity: sensor.hass_version_template
                state_not: Current
              - entity: sensor.hass_version_template
                state_not: unknown
            elements:
              - type: image
                image: /local/update_available.svg
                style:
                  top: 92.09%
                  left: 53.6%
                  width: 1.7%
                tap_action: !include popup/information.yaml

          #################################################
          #                                               #
          #                UPDATES BUTTON                 #
          #                                               #
          #################################################

          - type: icon
            icon: mdi:arrow-up-bold-circle-outline
            title: Updates
            style:
              top: 94.5%
              left: 58.1%
              color: rgb(255, 255, 255)
              opacity: 0.1
              padding: 0.8vw
              --mdc-icon-size: 4vw
            tap_action:
              !include popup/update.yaml

              ##########################################################################
              #                                                                        #
              #                             * Woonkamer *                              #
              #                                                                        #
              ##########################################################################

          - prefix: Wohnzimmer
            <<: *title
            style:
              top: 9.15%
              left: 25.4%
              <<: *title-style

          #################################################
          #                                               #
          #                   BANK VERLICHTING            #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.nanoleaf
            style:
              top: 20.35%
              left: 30.31%
              width: 10%
            custom_fields:
              icon_nano:  >
                <svg viewBox="0 0 50 50"><g fill="##9da0a2" stroke="none"><path d="M6266 11289 c-200 -27 -402 -141 -536 -301 -38 -46 -432 -718 -1284-2194 -3554 -6153 -4323 -7485 -4358 -7554 -61 -121 -81 -211 -81 -375 -1-115 3 -154 21 -220 91 -327 350 -567 681 -629 75 -14 614 -16 5691 -16 50770 5616 2 5691 16 331 62 590 302 681 629 18 66 22 105 21 220 0 164 -20 254-81 375 -21 41 -756 1317 -1633 2835 -877 1518 -2126 3680 -2775 4804 -8171416 -1196 2063 -1234 2109 -112 134 -277 239 -445 283 -93 24 -256 32 -35918z"/></g></svg>            styles: &icon_nano_styles
              custom_fields:
                icon_GU10:
                  [top: 10%, left: 4.5%, width: 3.6vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                   ERKER VERLICHTING           #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.spots
            style:
              top: 20.35%
              left: 41.31%
              width: 10%
            custom_fields:
              icon_GU10: &icon_GU10 >
                [[[ const state = entity.state === 'on' ? 'animate' : null;
                return `<svg viewBox="0 0 32 32"><style>@keyframes animate{0%{transform: scale(0.85);}20%{transform: scale(1.1);}40%{transform: scale(0.95);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}100%{transform: scale(1);}}.animate{animation: animate 0.8s; transform-origin: center;}</style>
                <path fill="#9da0a2" d="M8.2148,10.0869 C10.3828,11.0069 13.6888,11.3059 15.9998,11.3059 C18.3118,11.3059 21.6168,11.0069 23.7848,10.0869 C23.4568,12.0059 22.6478,14.6319 20.2238,16.3809 C20.0208,16.5679 19.9998,16.8809 19.9998,17.5059 L19.9998,21.1919 C19.9998,21.6689 19.8468,22.1379 19.5338,22.4919 C19.0338,23.0589 17.9588,23.4919 15.9998,23.4919 C14.0408,23.4919 12.9658,23.0589 12.4658,22.4919 C12.1528,22.1379 11.9998,21.6689 11.9998,21.1919 L11.9998,17.5059 C11.9998,16.8809 11.9798,16.5679 11.7768,16.3809 C9.3528,14.6319 8.5428,12.0059 8.2148,10.0869 Z M17,26 L17,24.458 C17.894,24.375 18.548,24.184 19,23.925 L19,26 C19,26.55 18.55,27 18,27 C17.45,27 17,26.55 17,26 Z M13,26 L13,23.925 C13.452,24.184 14.106,24.375 15,24.458 L15,26 C15,26.55 14.55,27 14,27 C13.45,27 13,26.55 13,26 Z"/>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M16,5 C20.97,5 25,6.188 25,7.653 C25,9.117 20.97,10.306 16,10.306 C11.03,10.306 7,9.117 7,7.653 C7,7.473 7.06,7.292 7.18,7.122 C8.01,5.912 11.65,5 16,5 Z"/></svg>`; ]]]
            styles: &icon_GU10_styles
              custom_fields:
                icon_GU10:
                  [top: 10%, left: 4.5%, width: 3.6vw, position: absolute]
            template: light

          - type: custom:button-card
            entity: fan.xiaomi_smart_fan
            style:
              top: 37.9%
              left: 30.31%
              width: 10%
            custom_fields:
              icon_GU10: *icon_GU10
            styles: *icon_GU10_styles
            template: fan
          #################################################
          #                                               #
          #                      TV                       #
          #                                               #
          #################################################

          # - type: custom:button-card
          #   entity: media_player.shield_tv
          #   triggers_update:
          #     [
          #       "media_player.samsung_woonkamer",
          #       "input_boolean.samsung_woonkamer",
          #       "input_boolean.ziggo",
          #       "ínput_boolean.disney",
          #       "input_boolean.netflix",
          #       "input_boolean.plex",
          #     ]
          #   style:
          #     top: 37.9%
          #     left: 30.31%
          #     width: 10%
          #   tap_action:
          #     services: |
          #       [[[ if (entity.state === 'off') {
          #       hass.callService('input_boolean', 'turn_on', {entity_id: entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')});
          #       hass.callService('input_boolean', 'turn_on', {entity_id: 'input_boolean.ziggo'});                
          #       hass.callService('media_player', 'turn_on', {entity_id: entity.entity_id}); }
          #       if (entity.state === 'on') {
          #       hass.callService('input_boolean', 'turn_on', {entity_id: entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')});
          #       hass.callService('input_boolean', 'turn_off', {entity_id: 'input_boolean.ziggo'});
          #       hass.callService('input_boolean', 'turn_off', {entity_id: 'input_boolean.disney'});
          #       hass.callService('input_boolean', 'turn_off', {entity_id: 'input_boolean.netflix'}); 
          #       hass.callService('input_boolean', 'turn_off', {entity_id: 'input_boolean.plex'});                
          #       hass.callService('media_player', 'turn_off', {entity_id: entity.entity_id});} ]]]
          #   hold_action: !include popup/woonkamer_tv.yaml
          #   custom_fields:
          #     icon_tv: &icon_tv >
          #       [[[ const boolean = states[entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')].state;
          #       const style = '<style>@keyframes animate_on{from{transform: scaleY(0);}to{transform: scaleY(1);}}.animate_on{animation: animate_on 1s; transform-origin: -100% 46%; animation-fill-mode: forwards;}@keyframes animate_off{from{transform: scaleY(1);}to{transform: scaleY(0);}}.animate_off{animation: animate_off 1s; transform-origin: -100% 46%; animation-fill-mode: forwards;}</style>';
          #       const path = '<path d="M46 9.2v27.5H4.1V9.2H46m2.4-2.4H1.6v32.3h46.7c.1 0 .1-32.3.1-32.3zM11.9 43.2h26.3c.6 0 1.1-.4 1.1-1v-.3c0-.6-.4-1.1-1-1.1H11.9c-.6 0-1.1.4-1.1 1v.3a1.11 1.11 0 0 0 1.1 1.1z"/>';
          #       const gradient = '<linearGradient id="A" gradientUnits="userSpaceOnUse" x1="5.401" y1="34.714" x2="43.817" y2="11.74"><stop offset="0" stop-color="#64acb7"/><stop offset="1" stop-color="#7fdbe9"/></linearGradient>';
          #       if (entity.state === 'off' && boolean === 'off') { return `<svg viewBox="0 0 50 50"> ${style} ${gradient} <path class="animate_off" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} </svg>`; }
          #       if (entity.state === 'on' && boolean === 'off') { return `<svg viewBox="0 0 50 50"> ${style} ${gradient} <path d="M2.9,8h44.3v29.9H2.9V8z" fill="#20262890"/><path class="animate_on" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} </svg>`; }
          #       if (entity.state === 'on' && boolean === 'on') { return `<svg viewBox="0 0 50 50"> ${gradient} <path d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path} </svg>`; }
          #       else if (entity.state === 'off' && boolean === 'on') { return `<svg viewBox="0 0 50 50"> ${path} </svg>`; } ]]]
          #   styles: &icon_tv_styles
          #     custom_fields:
          #       icon_tv:
          #         [
          #           fill: "[[[ return entity.state === 'on' ? '#616161' : '#9da0a2'; ]]]",
          #           top: 7%,
          #           left: 10.7%,
          #           width: 3.5vw,
          #           position: absolute,
          #         ]
          #   template: ["base", "loader"]

          #################################################
          #                                               #
          #                  PLAYSTATION                  #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: switch.beamer_pow
            triggers_update:
              ["switch.playstation_4", "input_boolean.playstation_4"]
            style:
              top: 37.9%
              left: 55.18%
              width: 10%
            tap_action:
              action: toggle
            hold_action: !include popup/playstation.yaml
            custom_fields:
              icon_ps4: >
                [[[ if (entity.state === 'on') { return '<svg viewBox="0 0 50 50"> <style>@keyframes animate{50%{transform: translateY(0);}100%{transform: translateY(-45%);}}.animate{animation: animate 2s infinite cubic-bezier(0.550, 0.085, 0.680, 0.530) both;}</style>
                <g style="clip-path: url(#mask);"><g class="animate"><path fill="#00aa9e" d="M49.2 38.9l-75.6-25.1v7.4l75.6 25.2z"/><path fill="#f3c202" d="M49.2 46.4l-75.6-25.2v7.5l75.6 25.1z"/><path fill="#326db3" d="M49.2 53.8l-75.6-25.1V51l75.6 25.1zm0-22.3L-26.4 6.4v7.4l75.6 25.1z"/></g></g>
                <defs><clipPath id="mask"><path d="M47.5 33.2c-.5-2.2-3.9-3.5-9.1-3.9-3.8-.3-7.5.6-11.1 1.9l-.6.2v-5.7l-5.7.8-4.6 1.6L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 3.3.6 6.2.2 8.9-.7l7.3 4.8L33 41l10.7-4h.1c2.8-1 4-2.5 3.7-3.8zm-31.3 2l-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 7.2-2.7v2.8l-3.2 1.1zm22.5-1.1l-1.9.7-10.2 3.7V36l6.5-2.4 3.8-1.3c4-.9 5.6.5 1.8 1.8z"/></clipPath></defs><path fill="#de0029" d="M26.7 14.6v28.7l-7.3-2.5V7.1l9.3 2.6c6 1.7 9.6 5 9.6 10.7-.1 6.7-3 9.4-8.7 7.6V14.9c-.1-1.6-2.9-1.7-2.9-.3h0z"/></svg>'; }
                else { return '<svg viewBox="0 0 50 50"><path fill="#9da0a2" d="M43.8 37h-.1l-10.6 4-4.2 1.6v-4.9l8-2.9 1.9-.7c3.8-1.3 2.2-2.7-1.8-1.9l-3.8 1.3-4.3 1.6v-4.5c3.1-1 6.3-1.6 9.5-1.4 5.3.4 8.7 1.6 9.1 3.9.3 1.4-.9 2.9-3.7 3.9zm-26.7-2.1l-.9.3-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 5-1.9v-4.2l-.6.2L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 2.4.4 4.6.3 6.7-.1v-4.3zm12.4-20V28c5.7 1.7 8.7-.9 8.7-7.6.1-5.7-3.6-9-9.6-10.7l-9.3-2.6v33.8l7.2 2.5.1.1V14.6c.1-1.4 2.9-1.3 2.9.3z"/></svg>'; } ]]]
            styles:
              custom_fields:
                icon_ps4: [top: 7%, left: 10%, width: 3.5vw, position: absolute]
            template: ["base", "loader"]

          ##########################################################################
          #                                                                        #
          #                               * Boven  *                               #
          #                                                                        #
          ##########################################################################

          - prefix: Küche
            <<: *title
            style:
              top: 9.15%
              left: 50.2%
              <<: *title-style

          #################################################
          #                                               #
          #                 WASMACHINE                    #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: binary_sensor.kaffeemaschine_status
            triggers_update: ["binary_sensor.kaffeemaschine_status"]
            style:
              top: 20.35%
              left: 55.18%
              width: 10%
            # tap_action: !include popup/washer.yaml
            tap_action: 
              action: call-service
              service: browser_mod.popup
              service_data:
                title: Washer
                hide_header: true
                deviceID: this
                # style:
                #   .: |
                #     :host .content {
                #       width: 385px;
                #       max-width: 90vw;
                #     }
                #   $: |
                #     .mdc-dialog .mdc-dialog__container .mdc-dialog__surface {
                #       background: none !important;
                #     }
                card:
                  type: custom:layout-card
                  column_num: 1
                  column_width: 385
                  layout: vertical
                  cards:
                    - type: entities
                      title: Washer
                      class: add_header
                      show_header_toggle: false
                      entities:
                        - entity: switch.grosse_tasse
                        - entity: switch.kleine_tasse
                        - entity: switch.kanne
            custom_fields:
              icon_washer: >
                [[[ if (entity.state === 'on') {
                return '<svg viewBox="0 0 512 512"><style>@keyframes animate{0%{transform: translate(0, 0);}10%{transform: translate(2px, 2px);}20%{transform: translate(-2px, -2px);}30%{transform: translate(4px, 4px);}40%{transform: translate(-4px, -4px);}50%{transform: translate(6px, 6px);}60%{transform: translate(-6px, -6px);}70%{transform: translate(8px, 8px);}80%{transform: translate(-8px, -8px);}90%{transform: translate(10px, 10px);}100%{transform: translate(-10px, -10px);}}.animate{animation: animate 1.4s infinite; transform-origin: center;}@keyframes shake{0%{transform: translate(0, 0);}10%{transform: translate(2px, 2px);}20%{transform: translate(-2px, -2px);}30%{transform: translate(4px, 4px);}40%{transform: translate(-4px, -4px);}50%{transform: translate(6px, 6px);}60%{transform: translate(-6px, -6px);}70%{transform: translate(8px, 8px);}80%{transform: translate(-8px, -8px);}90%{transform: translate(10px, 10px);}100%{transform: translate(-10px, -10px);}}.shake{animation: shake 1.3s; transform-origin: center;}</style>
                <g class="shake"><circle fill="#D5DCED" cx="256" cy="256" r="248.5"/><circle fill="#959CB5" cx="256" cy="256" r="200.4"/><circle fill="#464655" cx="256" cy="256" r="168.34"/><circle fill="#5B5D6E" cx="256" cy="256" r="144.29"/><circle fill="#7F8499" cx="312.11" cy="223.94" r="56.11"/><circle fill="#00C3FF" cx="223.94" cy="199.89" r="16.03"/><path fill="#00AAF0" d="M87.661,256c0,92.971,75.368,168.339,168.339,168.339S424.339,348.971,424.339,256c0-2.701-0.278-5.332-0.404-8.001c-27.642,0.161-27.808,16.018-55.735,16.018c-28.069,0-28.069-16.032-56.138-16.032c-28.05,0-28.05,16.032-56.1,16.032c-28.059,0-28.059-16.032-56.118-16.032c-28.049,0-28.049,16.032-56.098,16.032c-27.899,0-28.065-15.856-55.68-16.018C87.94,250.668,87.661,253.299,87.661,256z"/><path fill="#00C3FF" d="M400.182,253.848c-8.58,4.578-15.387,10.168-31.982,10.168c-28.069,0-28.069-16.032-56.138-16.032c-28.05,0-28.05,16.032-56.1,16.032c-28.059,0-28.059-16.032-56.118-16.032c-28.049,0-28.049,16.032-56.098,16.032c-16.564,0-23.367-5.581-31.928-10.156c-0.011,0.72-0.108,1.417-0.108,2.14c0,79.689,64.601,144.29,144.29,144.29S400.29,335.689,400.29,256C400.29,255.273,400.192,254.572,400.182,253.848z"/><path fill="#C7CFE2" d="M441.788,180.868l-24.405,5.424c-14.671,3.26-25.109,16.272-25.109,31.301v76.816c0,15.028,10.438,28.041,25.109,31.301l24.405,5.424c9.396-23.209,14.615-48.554,14.615-75.132S451.184,204.077,441.788,180.868z"/><path fill="#87DCFF" d="M312.062,247.984c-21.871,0-26.735,9.721-41.093,14.015c10.25,11.075,24.865,18.049,41.145,18.049c16.271,0,30.88-6.968,41.129-18.032C338.828,257.732,333.978,247.984,312.062,247.984z"/>
                </g> <path class="animate" d="M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98C485.371,388.667,512,324.38,512,256S485.371,123.333,437.02,74.98z M426.413,426.413C380.894,471.932,320.374,497,256,497s-124.894-25.068-170.413-70.587C40.068,380.894,15,320.374,15,256S40.068,131.106,85.587,85.587C131.106,40.068,191.626,15,256,15s124.894,25.068,170.413,70.587C471.932,131.106,497,191.626,497,256S471.932,380.894,426.413,426.413M256,48.097C141.362,48.097,48.097,141.362,48.097,256S141.362,463.903,256,463.903S463.903,370.638,463.903,256S370.638,48.097,256,48.097z M256,448.903c-106.367,0-192.903-86.536-192.903-192.903S149.633,63.097,256,63.097c78.469,0,146.137,47.1,176.24,114.51l-17.405,2.901c-9.982-20.929-24.264-40.041-41.581-55.547c-3.086-2.763-7.828-2.501-10.59,0.584c-2.763,3.086-2.501,7.827,0.584,10.59c15.31,13.708,28.025,30.494,37.104,48.88c-9.436,5.512-15.579,15.704-15.579,27.228v41.276c-3.913,1.65-8.969,2.997-16.591,2.997c-12.048,0-17.753-3.257-24.359-7.029c-7.391-4.22-15.767-9.003-31.796-9.003c-16.021,0-24.393,4.784-31.779,9.004c-6.6,3.771-12.3,7.028-24.337,7.028c-12.024,0-17.718-3.256-24.311-7.027c-7.381-4.221-15.747-9.005-31.757-9.005c-16.017,0-24.386,4.784-31.771,9.004c-3.596,2.055-4.845,6.637-2.79,10.233c2.055,3.596,6.636,4.845,10.233,2.79c6.597-3.771,12.295-7.027,24.327-7.027c12.023,0,17.717,3.256,24.311,7.027c7.381,4.221,15.747,9.005,31.757,9.005c16.021,0,24.393-4.784,31.779-9.004c6.6-3.771,12.3-7.028,24.338-7.028c12.048,0,17.753,3.257,24.359,7.029c7.391,4.22,15.767,9.003,31.796,9.003c6.708,0,12.098-0.86,16.591-2.135v30.376c0,11.527,6.145,21.721,15.586,27.232c-26.975,54.787-82.952,89.85-144.36,89.85C167.312,416.839,95.16,344.687,95.16,256c0-0.001,0-0.002,0-0.003c7.237,1.053,11.772,3.629,16.819,6.515c7.383,4.221,15.751,9.005,31.765,9.005c4.142,0,7.5-3.358,7.5-7.5c0-4.142-3.358-7.5-7.5-7.5c-12.028,0-17.724-3.256-24.319-7.027c-6.005-3.433-12.663-7.238-23.555-8.539c7.615-81.657,76.518-145.79,160.13-145.79c29.845,0,58.978,8.231,84.251,23.805c3.526,2.173,8.147,1.076,10.32-2.451c2.173-3.527,1.076-8.147-2.451-10.32C320.48,89.164,288.625,80.161,256,80.161c-96.958,0-175.839,78.881-175.839,175.839S159.042,431.839,256,431.839c67.921,0,129.766-39.237,158.844-100.345l17.396,2.899C402.137,401.803,334.469,448.903,256,448.903z M413.602,316.081c-8.012-1.335-13.828-8.2-13.828-16.323v-87.514c0-8.123,5.815-14.988,13.828-16.323l24.326-4.054c7.098,20.075,10.975,41.659,10.975,64.135s-3.877,44.057-10.975,64.133L413.602,316.081M223.936,176.355c-12.976,0-23.532,10.557-23.532,23.532c0,12.975,10.557,23.532,23.532,23.532c12.975,0,23.532-10.557,23.532-23.532C247.468,186.912,236.911,176.355,223.936,176.355z M223.936,208.419c-4.705,0-8.532-3.828-8.532-8.532c0-4.704,3.828-8.532,8.532-8.532c4.704,0,8.532,3.828,8.532,8.532C232.468,204.591,228.64,208.419,223.936,208.419M280.048,136.274c-8.556,0-15.516,6.96-15.516,15.516c0,8.556,6.96,15.516,15.516,15.516c8.556,0,15.516-6.96,15.516-15.516C295.564,143.234,288.604,136.274,280.048,136.274M316.121,184.371c-6.346,0-11.508,5.163-11.508,11.508c0,6.346,5.163,11.508,11.508,11.508c6.345,0,11.508-5.163,11.508-11.508C327.629,189.534,322.466,184.371,316.121,184.371z"/></svg>';  }
                else { return '<svg viewBox="0 0 512 512"><path fill="#9da0a2" d="M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256s26.629,132.667,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98C485.371,388.667,512,324.38,512,256S485.371,123.333,437.02,74.98z M426.413,426.413C380.894,471.932,320.374,497,256,497s-124.894-25.068-170.413-70.587C40.068,380.894,15,320.374,15,256S40.068,131.106,85.587,85.587C131.106,40.068,191.626,15,256,15s124.894,25.068,170.413,70.587C471.932,131.106,497,191.626,497,256S471.932,380.894,426.413,426.413M256,48.097C141.362,48.097,48.097,141.362,48.097,256S141.362,463.903,256,463.903S463.903,370.638,463.903,256S370.638,48.097,256,48.097z M256,448.903c-106.367,0-192.903-86.536-192.903-192.903S149.633,63.097,256,63.097c78.469,0,146.137,47.1,176.24,114.51l-17.405,2.901c-9.982-20.929-24.264-40.041-41.581-55.547c-3.086-2.763-7.828-2.501-10.59,0.584c-2.763,3.086-2.501,7.827,0.584,10.59c15.31,13.708,28.025,30.494,37.104,48.88c-9.436,5.512-15.579,15.704-15.579,27.228v41.276c-3.913,1.65-8.969,2.997-16.591,2.997c-12.048,0-17.753-3.257-24.359-7.029c-7.391-4.22-15.767-9.003-31.796-9.003c-16.021,0-24.393,4.784-31.779,9.004c-6.6,3.771-12.3,7.028-24.337,7.028c-12.024,0-17.718-3.256-24.311-7.027c-7.381-4.221-15.747-9.005-31.757-9.005c-16.017,0-24.386,4.784-31.771,9.004c-3.596,2.055-4.845,6.637-2.79,10.233c2.055,3.596,6.636,4.845,10.233,2.79c6.597-3.771,12.295-7.027,24.327-7.027c12.023,0,17.717,3.256,24.311,7.027c7.381,4.221,15.747,9.005,31.757,9.005c16.021,0,24.393-4.784,31.779-9.004c6.6-3.771,12.3-7.028,24.338-7.028c12.048,0,17.753,3.257,24.359,7.029c7.391,4.22,15.767,9.003,31.796,9.003c6.708,0,12.098-0.86,16.591-2.135v30.376c0,11.527,6.145,21.721,15.586,27.232c-26.975,54.787-82.952,89.85-144.36,89.85C167.312,416.839,95.16,344.687,95.16,256c0-0.001,0-0.002,0-0.003c7.237,1.053,11.772,3.629,16.819,6.515c7.383,4.221,15.751,9.005,31.765,9.005c4.142,0,7.5-3.358,7.5-7.5c0-4.142-3.358-7.5-7.5-7.5c-12.028,0-17.724-3.256-24.319-7.027c-6.005-3.433-12.663-7.238-23.555-8.539c7.615-81.657,76.518-145.79,160.13-145.79c29.845,0,58.978,8.231,84.251,23.805c3.526,2.173,8.147,1.076,10.32-2.451c2.173-3.527,1.076-8.147-2.451-10.32C320.48,89.164,288.625,80.161,256,80.161c-96.958,0-175.839,78.881-175.839,175.839S159.042,431.839,256,431.839c67.921,0,129.766-39.237,158.844-100.345l17.396,2.899C402.137,401.803,334.469,448.903,256,448.903z M413.602,316.081c-8.012-1.335-13.828-8.2-13.828-16.323v-87.514c0-8.123,5.815-14.988,13.828-16.323l24.326-4.054c7.098,20.075,10.975,41.659,10.975,64.135s-3.877,44.057-10.975,64.133L413.602,316.081M223.936,176.355c-12.976,0-23.532,10.557-23.532,23.532c0,12.975,10.557,23.532,23.532,23.532c12.975,0,23.532-10.557,23.532-23.532C247.468,186.912,236.911,176.355,223.936,176.355z M223.936,208.419c-4.705,0-8.532-3.828-8.532-8.532c0-4.704,3.828-8.532,8.532-8.532c4.704,0,8.532,3.828,8.532,8.532C232.468,204.591,228.64,208.419,223.936,208.419M280.048,136.274c-8.556,0-15.516,6.96-15.516,15.516c0,8.556,6.96,15.516,15.516,15.516c8.556,0,15.516-6.96,15.516-15.516C295.564,143.234,288.604,136.274,280.048,136.274M316.121,184.371c-6.346,0-11.508,5.163-11.508,11.508c0,6.346,5.163,11.508,11.508,11.508c6.345,0,11.508-5.163,11.508-11.508C327.629,189.534,322.466,184.371,316.121,184.371z"/></svg>'; } ]]]
            styles:
              custom_fields:
                icon_washer:
                  [top: 11%, left: 6.3%, width: 3.05vw, position: absolute]
            template: ["washer"]

          #################################################
          #                                               #
          #                   WASHOK                      #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.bar
            style:
              top: 20.35%
              left: 66.14%
              width: 10%
            custom_fields:
              icon_spot: &icon_spot >
                [[[ const state = entity.state === 'on' ? 'animate_on' : 'animate_off';
                return `<svg viewBox="0 0 50 50"><style>@keyframes animate_on{0%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}70%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-11deg);}100%{transform: rotateZ(-15deg);}}.animate_on{animation: animate_on 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards; animation-delay: -0.1s;}@keyframes animate_off{0%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}70%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-4deg);}100%{transform: rotateZ(0deg);}}.animate_off{animation: animate_off 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards;}</style>
                <path style="clip-path: url(#mask);" fill="#9da0a2" d="M40.5.8H17.1c-.1 0-.1 0-.1.1A3.12 3.12 0 0 0 20.1 4h6.1c.1 0 .1 0 .1.1v7.4L18 19.1l3.6 3.5 9.1-8.6c.4-.4.6-1 .7-1.6V4c0-.1 0-.1.1-.1h6c1.7.1 3.1-1.3 3-3.1z"/><defs><clipPath id="mask"><path class="${state}" d="M0 9.1h24l8.3 8.8H50V-9H0z"/></clipPath></defs><path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M25.5 46.4s1.4.5 10.4-8.2c.5-.4 6.3-6.3 5.8-7.1-.7-.8-18.6-19.5-18.6-19.5s-.6-.9-8.6 6.4c-.6.5-8.7 8-7.7 9.1l18.7 19.3z"/></svg>`; ]]]
            styles: &icon_spot_styles
              custom_fields:
                icon_spot:
                  [top: 11.5%, left: 8%, width: 2.7vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                     EETKAMER                  #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.esstisch
            style:
              top: 37.9%
              left: 41.31%
              width: 10%
            custom_fields:
              icon_hang: &icon_hang >
                [[[ const state = entity.state === 'on' ? 'animate_on' : 'animate_off';
                return `<svg viewBox="0 0 24 24"><style>@keyframes animate_on{0%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}18%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}23%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}41%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}46%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}70%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-4deg);}100%{transform: rotateZ(0deg);}}.animate_on{animation: animate_on 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards; animation-delay: -0.1s;}@keyframes animate_off{0%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}18%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}23%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}41%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}46%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}70%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-4deg);}100%{transform: rotateZ(0deg);}}.animate_off{animation: animate_off 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards;}</style>
                <path class="${state}" fill="#9da0a2" d="M11,2L11,7.674000C10.827000,7.735000,10.659000,7.811000,10.500000,7.902000C9.627000,8.408000,9.067000,9.319000,9.010000,10.326000C8.310000,10.478000,7.636000,10.683000,7,10.937000C3.906000,12.188000,2,14.499000,2,17L22,17C22,14.499000,20.094000,12.188000,17,10.937000C16.365000,10.684000,15.691000,10.479000,14.992000,10.328000C14.935000,9.320000,14.374000,8.408000,13.500000,7.902000C13.341000,7.812000,13.173000,7.736000,13,7.676000L13,2L11,2L11,2Z"/>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M9.019000,18.185000C9.019000,19.257000,9.591000,20.247000,10.519000,20.783000C11.447000,21.319000,12.591000,21.319000,13.519000,20.783000C14.447000,20.247000,15.019000,19.257000,15.019000,18.185000L9.019000,18.185000Z"/></svg>`; ]]]
            styles: &icon_hang_styles
              custom_fields:
                icon_hang:
                  [top: 10.2%, left: 4.5%, width: 3.5vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                   SONOS KEUKEN                #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: media_player.lenovosmartdisplay80269
            triggers_update:
              ["media_player.lenovosmartdisplay80269", "media_player.wohnung"]
            style:
              top: 37.9%
              left: 66.14%
              width: 10%
            tap_action:
              action: call-service
              service: media_player.media_play_pause
              service_data:
                entity_id: media_player.lenovosmartdisplay80269
            hold_action: !include popup/sonos.yaml
            custom_fields:
              icon_monitors: >
                [[[ if (entity.state === 'playing') {
                return '<svg viewBox="0 0 50 50"><style>@keyframes animate{35%{transform: scale(0.8); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}36%{transform: translateY(0%);}49%{transform: scale(1.25);}63%{transform: scale(0.85); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}77%{transform: scale(1.15); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}95%{transform: scale(1);}}.animate{animation: animate 1.4s infinite; transform-origin: center;}@keyframes rubber{0%{transform: scale(1);}40%{transform: scale(1);}49%{transform: scale(0.95);}63%{transform: scale(1);}77%{transform: scale(0.95);}100%{transform: scale(1);}}.rubber{animation: rubber 1.3s; transform-origin: center;}</style>
                <g class="rubber"><path fill="#686868" d="M35.8 46.9H14.2c-1.1 0-2-1-2-2.3V6.7c0-1.3.9-2.3 2-2.3h21.5c1.1 0 2 1 2 2.3v37.9c0 1.2-.9 2.3-1.9 2.3z"/><path fill="#2a2a2a" d="M39.2 1H10.8C9.4 1 8.3 2.1 8.2 3.5v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3c1.4 0 2.5-1.2 2.6-2.6V3.5c0-1.4-1.1-2.5-2.5-2.5zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4C22.5 8 23.6 7 25 7zm10.2 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6s-.1-1.1-.4-1.9.6-.9.6-.9h19.3c0-.1.8-.1.5.9z"/> </g> <path class="animate" fill="#e5dd00" d="M25 15.7c-6.2 0-11.3 5.1-11.3 11.3S18.8 38.3 25 38.3 36.3 33.2 36.3 27c-.1-6.3-5.1-11.3-11.3-11.3zm0 14.5a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c-.1 1.9-1.5 3.3-3.3 3.3z"/></svg>'; }
                else { return '<svg viewBox="0 0 50 50"><path fill="#9da0a2" d="M25 18.6c-4.6 0-8.4 3.8-8.4 8.4s3.8 8.4 8.4 8.4 8.4-3.8 8.4-8.4-3.7-8.4-8.4-8.4zm0 11.7a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c0 1.8-1.4 3.3-3.3 3.3zM39.2 1H10.9C9.4 1 8.3 2.1 8.3 3.6v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3a2.65 2.65 0 0 0 2.6-2.6v-43C41.7 2 40.5.9 39.2 1zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4S23.7 7 25 7zm10.3 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6l-.4-1.9c-.2-.9.6-.9.6-.9h19.3s.9.1.6.9zM25 38.2c-6.2 0-11.3-5.1-11.3-11.3a11.29 11.29 0 1 1 22.6 0c.1 6.3-5 11.3-11.3 11.3z"/></svg>'; } ]]]
              circle: >
                [[[ if (entity.state === 'playing') {
                const volume = states['sensor.sonos_keuken_volume'].state;
                const radius = 20.5; const circumference = radius * 2 * Math.PI;
                return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="#b2b2b2" stroke-width="1.5" fill="none" style="
                transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - volume / 100 * circumference};" />
                <text x="50%" y="54%" fill="#8d8e90" font-size="14" text-anchor="middle" alignment-baseline="middle">${volume}<tspan font-size="10">%</tspan></text></svg>`; } ]]]
            styles:
              custom_fields:
                icon_monitors:
                  [top: 11%, left: 7%, width: 2.8vw, position: absolute]
            template: sonos

          ##########################################################################
          #                                                                        #
          #                           * Slaapkamer *                               #
          #                                                                        #
          ##########################################################################

          - prefix: Schlafzimmer
            <<: *title
            style:
              top: 9.15%
              left: 75.1%
              <<: *title-style

          #################################################
          #                                               #
          #                  BUITEN VERLICHTING           #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.buiten
            style:
              top: 20.35%
              left: 80.05%
              width: 10%
            custom_fields:
              icon_porch: &icon_porch >
                [[[ const state = entity.state === 'on' ? 'animate' : null;
                return `<svg viewBox="0 0 24 24"><style>@keyframes animate{0%{transform: scale(0.85);}20%{transform: scale(1.1);}40%{transform: scale(0.95);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}100%{transform: scale(1);}}.animate{animation: animate 0.8s; transform-origin: center;}</style>
                <path fill="#9da0a2" d="M7 14H21L15 9.71V6C15 4.39 13.94 2 11 2S7 4.39 7 6C7 6.45 6.81 7 6 7H5V3H3V12H5V9H6C8.2 9 9 7.21 9 6C9 5.67 9.1 4 11 4C12.83 4 13 5.54 13 6V9.71L7 14Z"/>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M15 22H13C11.9 22 11 21.1 11 20V15H17V20C17 21.1 16.1 22 15 22z"/></svg>`; ]]]
            styles: &icon_porch_styles
              custom_fields:
                icon_porch:
                  [top: 10%, left: 4.7%, width: 3.6vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                   SONOS ZOLDER                #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: media_player.zolder
            triggers_update:
              ["media_player.zolder", "sensor.sonos_zolder_volume"]
            style:
              top: 20.35%
              left: 91.05%
              width: 10%
            tap_action:
              action: call-service
              service: media_player.media_play_pause
              service_data:
                entity_id: media_player.zolder
            hold_action: !include popup/sonos-zolder.yaml
            custom_fields:
              icon_monitors: >
                [[[ if (entity.state === 'playing') {
                return '<svg viewBox="0 0 50 50"><style>@keyframes animate{35%{transform: scale(0.8); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}36%{transform: translateY(0%);}49%{transform: scale(1.25);}63%{transform: scale(0.85); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}77%{transform: scale(1.15); animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);}95%{transform: scale(1);}}.animate{animation: animate 1.4s infinite; transform-origin: center;}@keyframes rubber{0%{transform: scale(1);}40%{transform: scale(1);}49%{transform: scale(0.95);}63%{transform: scale(1);}77%{transform: scale(0.95);}100%{transform: scale(1);}}.rubber{animation: rubber 1.3s; transform-origin: center;}</style>
                <g class="rubber"><path fill="#686868" d="M35.8 46.9H14.2c-1.1 0-2-1-2-2.3V6.7c0-1.3.9-2.3 2-2.3h21.5c1.1 0 2 1 2 2.3v37.9c0 1.2-.9 2.3-1.9 2.3z"/><path fill="#2a2a2a" d="M39.2 1H10.8C9.4 1 8.3 2.1 8.2 3.5v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3c1.4 0 2.5-1.2 2.6-2.6V3.5c0-1.4-1.1-2.5-2.5-2.5zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4C22.5 8 23.6 7 25 7zm10.2 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6s-.1-1.1-.4-1.9.6-.9.6-.9h19.3c0-.1.8-.1.5.9z"/> </g> <path class="animate" fill="#e5dd00" d="M25 15.7c-6.2 0-11.3 5.1-11.3 11.3S18.8 38.3 25 38.3 36.3 33.2 36.3 27c-.1-6.3-5.1-11.3-11.3-11.3zm0 14.5a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c-.1 1.9-1.5 3.3-3.3 3.3z"/></svg>'; }
                else { return '<svg viewBox="0 0 50 50"><path fill="#9da0a2" d="M25 18.6c-4.6 0-8.4 3.8-8.4 8.4s3.8 8.4 8.4 8.4 8.4-3.8 8.4-8.4-3.7-8.4-8.4-8.4zm0 11.7a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c0 1.8-1.4 3.3-3.3 3.3zM39.2 1H10.9C9.4 1 8.3 2.1 8.3 3.6v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3a2.65 2.65 0 0 0 2.6-2.6v-43C41.7 2 40.5.9 39.2 1zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4S23.7 7 25 7zm10.3 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6l-.4-1.9c-.2-.9.6-.9.6-.9h19.3s.9.1.6.9zM25 38.2c-6.2 0-11.3-5.1-11.3-11.3a11.29 11.29 0 1 1 22.6 0c.1 6.3-5 11.3-11.3 11.3z"/></svg>'; } ]]]
              circle: >
                [[[ if (entity.state === 'playing') {
                const volume = states['sensor.sonos_zolder_volume'].state;
                const radius = 20.5; const circumference = radius * 2 * Math.PI;
                return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="#b2b2b2" stroke-width="1.5" fill="none" style="
                transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - volume / 100 * circumference};" />
                <text x="50%" y="54%" fill="#8d8e90" font-size="14" text-anchor="middle" alignment-baseline="middle">${volume}<tspan font-size="10">%</tspan></text></svg>`; } ]]]
            styles:
              custom_fields:
                icon_monitors:
                  [top: 11%, left: 7%, width: 2.8vw, position: absolute]
            template: sonos

          #################################################
          #                                               #
          #                      LED STRIP                #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.wled
            style:
              top: 37.9%
              left: 80.05%
              width: 10%
            custom_fields:
              icon_wled: &wled >
                [[[ const state = entity.state === 'on' ? 'animate' : null;
                return `<svg viewBox="0 0 24 24"><style>@keyframes animate{0%{transform: scale(0.85);}20%{transform: scale(1.1);}40%{transform: scale(0.95);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}100%{transform: scale(1);}}.animate{animation: animate 0.8s; transform-origin: center;}</style>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M2.95 3L2 6.91L19.34 11.25L20.29 7.34L2.95 3M6.09 6.89L4.16 6.41L4.64 4.46L6.57 4.94L6.09 6.89M9.94 7.86L8 7.38L8.5 5.42L10.42 5.91L9.94 7.86M13.8 8.82L11.87 8.34L12.35 6.39L14.27 6.87L13.8 8.82M17.65 9.79L15.72 9.31L16.2 7.35L18.13 7.84L17.65 9.79M4.66 12.75L3.71 16.66L21.05 21L22 17.1L4.66 12.75M7.8 16.65L5.88 16.16L6.35 14.21L8.28 14.69L7.8 16.65M11.65 17.61L9.73 17.13L10.2 15.18L12.13 15.66L11.65 17.61M15.5 18.58L13.58 18.09L14.06 16.14L16 16.62L15.5 18.58M19.36 19.54L17.43 19.06L17.91 17.11L19.84 17.59L19.36 19.54M6.25 12.11L11 10.2L17.75 11.89L13 13.8L6.25 12.11Z"/></svg>`; ]]]
            styles: &icon_wled_styles
              custom_fields:
                icon_wled:
                  [top: 10%, left: 4.7%, width: 3.6vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                      TV2                      #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: media_player.samsung_slaapkamer
            triggers_update:
              [
                "media_player.samsung_slaapkamer",
                "input_boolean.samsung_slaapkamer",
              ]
            style:
              top: 37.9%
              left: 91.05%
              width: 10%
            tap_action:
              services: |
                [[[ if (entity.state === 'off') {
                hass.callService('input_boolean', 'turn_on', {entity_id: entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')});
                hass.callService('media_player', 'turn_on', {entity_id: entity.entity_id}); }
                if (entity.state === 'on') {
                hass.callService('input_boolean', 'turn_on', {entity_id: entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')});
                hass.callService('media_player', 'turn_off', {entity_id: entity.entity_id});} ]]]
            hold_action: !include popup/slaapkamer_tv.yaml
            # custom_fields:
            #   icon_tv: *icon_tv
            # styles: *icon_tv_styles
            template: ["base", "loader"]

          ##########################################################################
          #                                                                        #
          #                               * MEDIA *                                #
          #                                                                        #
          ##########################################################################

          - prefix: Media
            <<: *title
            style:
              top: 53.4%
              left: 25.4%
              <<: *title-style

          - type: custom:swipe-card
            start_card: 1
            parameters:
              roundLengths: true
              effect: coverflow
              speed: 650
              spaceBetween: 20
              threshold: 7
              coverflowEffect:
                rotate: 80
                depth: 300
            style:
              top: 56.55%
              left: 35.8%
              width: 20.97%
              height: 1px
              --ha-card-border-radius: .88vw
            cards:
              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:
                  #################################################
                  #                                               #
                  #              RECENTLY DOWNLOADED              #
                  #                                               #
                  #################################################

                  - type: conditional
                    conditions:
                      - entity: input_select.conditional_media
                        state: emby
                    elements:
                      - type: custom:button-card
                        entity: sensor.emby_latest_movies
                        triggers_update: ["sensor.emby_latest_movies"]
                        name: Last download
                        state_display: >
                          [[[ const data = states[entity.entity_id].attributes.data;
                          const number = data[1].number == undefined ? '(' + data[1].airdate.split('-')[0] + ')' : data[1].number;
                          return `${data[1].title} ${number}`; ]]]
                        custom_fields:
                          icon: >
                            <svg viewBox="0 0 24 24"><path d="M11,2L6,7L7,8L2,13L7,18L8,17L13,22L18,17L17,16L22,11L17,6L16,7L11,2M10,8.5L16,12L10,15.5V8.5Z" /></svg>
                          blur: >
                            <svg viewBox="0 0 50 50" />
                        styles:
                          custom_fields:
                            media_image:
                              &plex_poster [
                                background-position: center center,
                                background-image: "[[[ return 'url(' + states[entity.entity_id].attributes.data[1].poster + ')'; ]]]",
                              ]
                            blur: *plex_poster
                            overlay: [background: "rgba(0, 0, 0, 0.4)"]
                          card:
                            [
                              color: "#efefef",
                              text-shadow: "1px 1px 5px rgba(18, 22, 23, 0.9)",
                            ]
                        tap_action:
                          action: none
                        style:
                          top: 50%
                          left: 50%
                          width: 100%
                        template: conditional_media

                  #                      #################################################
                  #                      #                                               #
                  #                      #              APPLE TV VARDAGSRUM              #
                  #                      #                                               #
                  #                      #################################################
                  #
                  #                      - type: conditional
                  #                        conditions:
                  #                          - entity: input_select.conditional_media
                  #                            state: Vardagsrum
                  #                        elements:
                  #                          - type: custom:button-card
                  #                            entity: media_player.vardagsrum
                  #                            custom_fields:
                  #                              icon: &icon_apple_tv >
                  #                                <svg viewBox="0 0 50 50"><path d="M25.2 49.7l-13.7-.1c-2.4 0-4.6-.8-6.5-2.2-2-1.6-3.6-3.6-4.3-6.2-.2-1-.2-1.9-.3-3V11.5C.5 7.9 1.9 5 4.8 2.7 6.2 1.6 7.8.8 9.6.5c.5-.1.9-.1 1.4-.1L27.5.3l10.9.1c2.6 0 4.8.8 6.7 2.4 2.1 1.7 3.7 3.9 4.2 6.6l.2 2.4.1 20.5-.1 6.7c-.1 2.2-.9 4.2-2.2 5.9-1.7 2.2-4 3.8-6.8 4.4-.6.1-1.2.2-1.9.2-.1.1-13.4.2-13.4.2zm-4-27.8c-.9-1.2-2.2-1.6-3.7-1.2-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0-.4-.1-.8-.3-1.2-.4-.3-.1-.7-.1-1-.1-1.5.2-2.4 1.1-3 2.6-.4 1.1-.3 2.2 0 3.5.4 1.5 1 2.9 2.1 4 .5.6 1.2.9 2 .6 1.1-.5 2.2-.5 3.4 0 .8.3 1.5 0 2.1-.6.7-.8 1.1-1.8 1.6-2.8v-.2c-1-.6-1.7-1.4-1.8-2.7-.2-1.4.5-2.4 1.5-3.1zm9.9-1.4c.1.2.1.3.1.4l3.6 9.5c.1.3.3.4.6.4h.7c.6 0 .6 0 .9-.6l3.7-9.4c.1-.1.1-.3.2-.5H39l-2.9 8.3-3.1-8.3-1.9.2zM27.3 18l-1.3.4c-.5.2-.5.2-.6.7v1.4h-1.6l.1 1.4h1.5v5c0 .7.1 1.4.2 2.1.1.5.3 1 .8 1.4.8.6 2.6.7 3.5.2l-.1-1.2h-1.3c-.5 0-.9-.3-1-.8-.1-.3-.2-.6-.2-1v-5.8H30c0-.5.1-1 0-1.4h-2.7V18zm-8.8-.9c-1.9.3-3 2-2.7 3.2 1.4.2 2.9-1.7 2.7-3.2z"/></svg>
                  #                            style:
                  #                              top: 50%
                  #                              left: 50%
                  #                              width: 100%
                  #                            template: conditional_media
                  #
                  #                      #################################################
                  #                      #                                               #
                  #                      #                APPLE TV SOVRUM                #
                  #                      #                                               #
                  #                      #################################################
                  #
                  #                      - type: conditional
                  #                        conditions:
                  #                          - entity: input_select.conditional_media
                  #                            state: Sovrum
                  #                        elements:
                  #                          - type: custom:button-card
                  #                            entity: media_player.sovrum
                  #                            custom_fields:
                  #                              icon: *icon_apple_tv
                  #                            style:
                  #                              top: 50%
                  #                              left: 50%
                  #                              width: 100%
                  #                            template: conditional_media
                  #
                  #################################################
                  #                                               #
                  #                 PLAYSTATION 4                 #
                  #                                               #
                  #################################################

                  - type: conditional
                    conditions:
                      - entity: input_select.conditional_media
                        state: shield
                    elements:
                      - type: custom:button-card
                        entity: media_player.shield_tv
                        custom_fields:
                          icon: &icon_ps4 >
                            <svg viewBox="0 0 50 50"><path d="M.3 25C.3 11.3 11.4.3 25 .3 38.8.3 49.7 11.6 49.7 25c0 13.7-11.1 24.7-24.7 24.7C11.2 49.7.2 38.5.3 25zM26 35.4V16.8c0-.3.1-.6.4-.7.3-.2.6 0 .9.2.4.3.6.8.6 1.3v7.1c0 .5.1.7.6.8.3.1.5.2.8.2 1.7.4 3-.3 3.6-2 0-.1.1-.2.1-.3.3-1.1.4-2.1.3-3.2-.1-1.3-.5-2.5-1.3-3.5-.9-1.2-2.1-1.9-3.6-2.3l-6.8-2h-.3v20.8c0 .6 0 .6.6.8l3.4 1.2c.2.1.4.1.7.2h0zm1-.3c.2 0 .3-.1.4-.1l10.5-3.9c.6-.2 1-.6 1.5-1 .5-.5.5-1 0-1.5-.1-.2-.3-.3-.5-.4-.6-.5-1.3-.8-2-1-2.1-.6-4.3-.8-6.5-.5-1 .2-2 .5-3 .7-.3.1-.4.2-.4.6v2.2c0 .1.1.1.1.2.2-.1.4-.1.5-.2l4.6-1.6c.6-.2 1.2-.3 1.9-.3.3 0 .5 0 .7.1s.4.2.4.3-.2.3-.3.4c-.3.2-.5.3-.8.4l-3.2 1.2-3.5 1.3c-.4.1-.5.3-.5.7v2.4zM20.3 30c-.2.1-.3.1-.4.1l-1.7.6c-.7.2-1.4.4-2.1.4-.4 0-.7-.1-1-.2-.1 0-.3-.2-.3-.3s.1-.3.2-.3c.2-.1.5-.2.7-.3l4.2-1.6c.4-.1.5-.3.5-.7v-1.9c0-.1 0-.2-.1-.4-.2.1-.4.1-.5.2L13 28.1c-.7.3-1.4.7-2.1 1.1-.8.5-.8 1.3-.1 1.9.3.2.6.5.9.6 2.1.8 4.2 1.3 6.5 1.2.6 0 1.1-.1 1.6-.2.4-.1.5-.2.5-.6V30z" /></svg>
                        style:
                          top: 50%
                          left: 50%
                          width: 100%
                        template: conditional_media

                  #################################################
                  #                                               #
                  #               GOOGLE Cast TV                  #
                  #                                               #
                  #################################################

                  - type: conditional
                    conditions:
                      - entity: input_select.conditional_media
                        state: cast
                    elements:
                      - type: custom:button-card
                        entity: media_player.wohnung
                        custom_fields:
                          icon: &icon_nest_mini >
                            <svg viewBox="0 0 50 50"><path d="M49.7 25c0 13.6-11.1 24.7-24.8 24.7C11.3 49.7.3 38.6.3 25S11.4.3 25 .3 49.7 11.4 49.7 25zm-33.9 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3.1 2.3-.9 2.3-2.2h0zm10.8 0c0 1.2.9 2.2 2.2 2.3 1.3 0 2.3-1 2.3-2.2 0-1.3-1-2.3-2.2-2.3-1.3 0-2.3.9-2.3 2.2zm-3.2 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3 0 2.3-.9 2.3-2.2h0zm13 2.2a2.22 2.22 0 0 0 2.2-2.2c0-1.2-1-2.3-2.2-2.3a2.22 2.22 0 0 0-2.2 2.2c0 1.3 1 2.3 2.2 2.3z" /></svg>
                        style:
                          top: 50%
                          left: 50%
                          width: 100%
                        template: conditional_media

                  #################################################
                  #                                               #
                  #           * SMALL MEDIA CONTROLS *            #
                  #                                               #
                  #################################################

              - type: picture-elements
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' /%3E"
                elements:
                  #
                  #                      # SMALL APPLE TV VARDAGSRUM
                  #                      - type: custom:button-card
                  #                        entity: media_player.vardagsrum
                  #                        custom_fields:
                  #                          icon: *icon_apple_tv
                  #                        style:
                  #                          top: 23.9%
                  #                          left: 23.8%
                  #                          width: 47.7%
                  #                        template: media
                  #
                  #                      # SMALL APPLE TV SOVRUM
                  #                      - type: custom:button-card
                  #                        entity: media_player.sovrum
                  #                        custom_fields:
                  #                          icon: *icon_apple_tv
                  #                        style:
                  #                          top: 23.9%
                  #                          left: 76.2%
                  #                          width: 47.7%
                  #                        template: media
                  #
                  # SMALL PLAYSTATION 4
                  - type: custom:button-card
                    entity: media_player.wohnung
                    name: Wohnung
                    custom_fields:
                      icon: *icon_ps4
                    style:
                      top: 76.2%
                      left: 23.8%
                      width: 47.7%
                    template: media

                  # SMALL GOOGLE CAST TV
                  - type: custom:button-card
                    entity: media_player.shield_tv
                    name: Shield TV
                    custom_fields:
                      icon: *icon_nest_mini
                    style:
                      top: 76.2%
                      left: 76.2%
                      width: 47.7%
                    template: media

          ##########################################################################
          #                                                                        #
          #                               * Lampen *                               #
          #                                                                        #
          ##########################################################################

          - prefix: Misc
            <<: *title
            style:
              top: 53.4%
              left: 50.2%
              <<: *title-style

          #################################################
          #                                               #
          #                    BADKAMER                   #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.bathroom
            style:
              top: 64.5%
              left: 55.18%
              width: 10%
            custom_fields:
              icon_bathroom: >
                [[[ const state = entity.state === 'on' ? 'animate_on' : 'animate_off'; 
                return `<svg viewBox="0 0 50 50" fill="var(--button-card-light-color-no-temperature)"><style>@keyframes animate_on{0%{transform: rotateZ(0deg) translate(0%, 0%);}100%{transform: rotateZ(-90deg) translate(-1.5%, 0%);}}@keyframes animate_off{0%{transform: rotateZ(-90deg) translate(-1.5%, 0%);}45%{transform: rotateZ(-40deg);}55%{transform: rotateZ(0deg);}65%{transform: rotateZ(-15deg);}75%{transform: rotateZ(0deg);}85%{transform: rotateZ(-5deg);}95%{transform: rotateZ(0deg);}}.animate_on{animation: animate_on 0.4s; animation-fill-mode: forwards; transform-origin: 45% 41%; transition-timing-function: cubic-bezier(0.85, 0, 0.15, 1);}.animate_off{animation: animate_off 1.05s linear; animation-delay: 0.05s; animation-fill-mode: both; transform-origin: 45% 41%;}</style>
                <path d="M12.9 1.2h2.5c1.6 0 2.9 1.3 2.9 2.9v18.6c0 1.4 1.1 2.5 2.4 2.5h20.5c.5 0 1 .4.9 1-.1 2.6-1.2 9.6-10.2 11v7.6c0 .2.2.4.4.4h1.5a1.58 1.58 0 0 1 1.6 1.6v.3a1.58 1.58 0 0 1-1.6 1.6H11a1.58 1.58 0 0 1-1.6-1.6v-.3a1.58 1.58 0 0 1 1.6-1.6h1.6c.2 0 .4-.2.4-.4v-7.6s-5.2-.3-5.2-5.9V4.2c0-1.6 1.3-2.9 2.9-2.9l2.2-.1c0 .1 0 0 0 0z"/><path class="${state}" d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/></svg>`;]]]
            styles:
              custom_fields:
                icon_bathroom:
                  [top: 11%, left: 6.5%, width: 3vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                    KEUKEN                     #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.keuken
            style:
              top: 64.5%
              left: 66.14%
              width: 10%
            custom_fields:
              icon_kitchen: >
                [[[ const state = entity.state === 'on' ? 'animate_on' : 'animate_off';
                return `<svg viewBox="0 0 122.88 111.69"><style>@keyframes animate_on{0%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}18%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}23%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}41%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}46%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}70%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-4deg);}100%{transform: rotateZ(0deg);}}.animate_on{animation: animate_on 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards; animation-delay: -0.1s;}@keyframes animate_off{0%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);}18%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}23%{transform: rotateZ(15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}41%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}46%{transform: rotateZ(-15deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}70%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}75%{transform: rotateZ(0deg); animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);}88%{transform: rotateZ(-4deg);}100%{transform: rotateZ(0deg);}}.animate_off{animation: animate_off 0.7s; transform-origin: 40% 20%; animation-fill-mode: forwards;}</style>
                <path fill= "#9da0a2" d="M25.66,19.3c-0.4,0.4-0.93,0.6-1.45,0.6c-0.53,0-1.05-0.2-1.45-0.6c-0.4-0.4-0.6-0.93-0.6-1.45c0-0.53,0.2-1.05,0.6-1.45 c0.73-0.73,0.94-1.39,0.86-2.02c-0.08-0.69-0.47-1.43-0.9-2.22c-0.74-1.39-1.54-2.87-1.79-4.67c-0.26-1.82,0.04-3.91,1.51-6.45 L22.45,1c0.28-0.47,0.73-0.79,1.22-0.93c0.5-0.14,1.06-0.08,1.55,0.2c0.49,0.28,0.82,0.74,0.96,1.24c0.14,0.5,0.08,1.06-0.2,1.55 c-0.9,1.57-1.07,2.87-0.9,4.01c0.18,1.15,0.73,2.18,1.25,3.14c0.77,1.43,1.48,2.76,1.57,4.23C28,15.95,27.45,17.51,25.66,19.3 L25.66,19.3z"/><path fill= "#9da0a2" d="M14.09,42.76h94.51c0.38,0,0.75,0.08,1.09,0.22c0.33,0.14,0.62,0.33,0.88,0.57c0.02,0.01,0.04,0.03,0.06,0.05 c0.52,0.52,0.84,1.23,0.84,2.02v6.37h9.36c0.57,0,1.08,0.23,1.45,0.6l0,0c0.37,0.37,0.6,0.89,0.6,1.45c0,0.57-0.23,1.08-0.6,1.45 l-0.03,0.03c-0.37,0.35-0.87,0.57-1.42,0.57h-9.36v42.1c0,1.82-0.37,3.56-1.03,5.15c-0.69,1.65-1.69,3.14-2.93,4.38 c-1.24,1.24-2.73,2.25-4.38,2.93c-1.59,0.66-3.33,1.03-5.15,1.03H24.73c-1.82,0-3.56-0.37-5.15-1.03 c-1.65-0.69-3.14-1.69-4.38-2.94c-1.24-1.24-2.25-2.73-2.94-4.38c-0.66-1.59-1.03-3.33-1.03-5.15V56.11H2.06 c-0.57,0-1.08-0.23-1.45-0.6C0.23,55.13,0,54.62,0,54.05c0-0.57,0.23-1.08,0.6-1.45l0,0c0.37-0.37,0.89-0.6,1.45-0.6h9.18v-6.37 c0-0.38,0.08-0.75,0.22-1.09c0.15-0.35,0.36-0.67,0.62-0.93C12.59,43.09,13.31,42.76,14.09,42.76L14.09,42.76z"/><path fill= "#9da0a2" d="M107.35,46.88h-92 v51.32c0,1.27,0.25,2.47,0.71,3.58c0.48,1.15,1.18,2.18,2.05,3.05c0.87,0.87,1.9,1.57,3.05,2.05c1.1,0.46,2.31,0.71,3.58,0.71 h73.25c1.26,0,2.47-0.25,3.57-0.71c1.14-0.48,2.18-1.18,3.05-2.04c0.87-0.87,1.57-1.9,2.04-3.05c0.46-1.1,0.71-2.31,0.71-3.57 V46.88L107.35,46.88z"/><path fill= "#000000" d="M20.06,53.85c0-0.57,0.23-1.08,0.6-1.45c0.37-0.37,0.89-0.6,1.45-0.6c0.57,0,1.08,0.23,1.45,0.6 c0.37,0.37,0.6,0.89,0.6,1.45v27.09c0,0.57-0.23,1.08-0.6,1.45c-0.37,0.37-0.89,0.6-1.45,0.6c-0.57,0-1.08-0.23-1.45-0.6 l-0.03-0.03c-0.35-0.37-0.57-0.87-0.57-1.42V53.85L20.06,53.85z"/><path fill= "#9da0a2" d="M40.3,25.44c-3.54,0.51-6.72,1.16-9.54,1.93 c-2.83,0.78-5.32,1.69-7.46,2.73c-1.5,0.73-2.83,1.52-3.98,2.37c-0.81,0.59-1.53,1.22-2.17,1.87h88.43 c-0.59-0.62-1.27-1.21-2.03-1.77c-1.11-0.81-2.4-1.56-3.86-2.24c-2.08-0.98-4.5-1.82-7.21-2.56c-2.73-0.74-5.75-1.35-9.01-1.86 c-1.48-0.23-2.98-0.44-4.49-0.63l-0.02,0c-1.49-0.19-2.99-0.35-4.51-0.5c-1.49-0.14-3-0.27-4.54-0.37 c-1.52-0.1-3.03-0.18-4.53-0.24c-0.57-0.02-1.07-0.27-1.43-0.65c-0.36-0.38-0.57-0.9-0.55-1.47l0-0.01 c0.01-0.33,0.1-0.64,0.25-0.91c0.15-0.28,0.37-0.51,0.63-0.7c0.32-0.24,0.62-0.51,0.88-0.82c0.26-0.3,0.48-0.64,0.66-0.99 c0.18-0.35,0.32-0.72,0.41-1.13c0.09-0.39,0.14-0.79,0.14-1.21c0-0.7-0.14-1.36-0.39-1.96c-0.26-0.62-0.64-1.19-1.11-1.66 c-0.47-0.47-1.04-0.86-1.66-1.11c-0.6-0.25-1.26-0.39-1.96-0.39c-0.7,0-1.36,0.14-1.96,0.39c-0.63,0.26-1.19,0.64-1.66,1.12 c-0.47,0.47-0.86,1.04-1.11,1.66l0,0c-0.25,0.6-0.39,1.26-0.39,1.96c0,0.41,0.05,0.81,0.13,1.19c0.09,0.39,0.23,0.77,0.4,1.11 c0.18,0.35,0.4,0.69,0.65,0.99c0.26,0.31,0.55,0.59,0.87,0.82c0.45,0.34,0.73,0.83,0.8,1.35c0.07,0.52-0.05,1.07-0.39,1.52 c-0.2,0.26-0.44,0.46-0.71,0.6c-0.26,0.13-0.55,0.21-0.84,0.22l-0.06,0l-0.04,0c-1.37,0.03-2.77,0.08-4.18,0.15 c-1.39,0.07-2.8,0.16-4.25,0.28c-1.4,0.11-2.79,0.24-4.15,0.4C42.99,25.07,41.64,25.24,40.3,25.44L40.3,25.44z"/><path fill= "#9da0a2" d="M81.61,16.39 c0.4,0.4,0.6,0.93,0.6,1.45c0,0.53-0.2,1.05-0.6,1.45c-0.4,0.4-0.93,0.6-1.45,0.6c-0.53,0-1.05-0.2-1.45-0.6 c-1.79-1.79-2.34-3.35-2.25-4.85c0.09-1.47,0.81-2.8,1.57-4.23c1-1.88,2.15-4.02,0.35-7.15l-0.02-0.04 c-0.27-0.48-0.32-1.03-0.18-1.52c0.14-0.51,0.47-0.96,0.96-1.24c0.49-0.28,1.05-0.34,1.55-0.2c0.51,0.14,0.96,0.47,1.24,0.96 c1.47,2.54,1.77,4.63,1.51,6.44c-0.26,1.8-1.05,3.29-1.79,4.67l0,0C80.85,13.65,80.16,14.94,81.61,16.39L81.61,16.39z"/><path fill= "#9da0a2" d="M97.11,16.39 c0.4,0.4,0.6,0.93,0.6,1.45c0,0.53-0.2,1.05-0.6,1.45c-0.4,0.4-0.93,0.6-1.45,0.6c-0.53,0-1.05-0.2-1.45-0.6 c-1.79-1.79-2.34-3.35-2.25-4.85c0.09-1.47,0.81-2.8,1.57-4.23c0.51-0.96,1.07-1.99,1.25-3.14c0.18-1.14,0.01-2.44-0.9-4.01 c-0.28-0.49-0.34-1.05-0.2-1.55c0.14-0.51,0.47-0.96,0.96-1.24c0.49-0.28,1.05-0.34,1.55-0.2c0.5,0.14,0.96,0.47,1.24,0.96 c1.47,2.54,1.77,4.63,1.51,6.44c-0.26,1.8-1.05,3.29-1.79,4.67c-0.42,0.79-0.82,1.53-0.9,2.22C96.17,15.01,96.38,15.66,97.11,16.39 L97.11,16.39z"/><path fill= "#9da0a2" d="M41.16,19.3c-0.4,0.4-0.93,0.6-1.45,0.6c-0.53,0-1.05-0.2-1.45-0.6c-0.4-0.4-0.6-0.93-0.6-1.45 c0-0.53,0.2-1.05,0.6-1.45c1.46-1.46,0.77-2.75-0.04-4.25c-0.74-1.39-1.54-2.87-1.79-4.68c-0.26-1.82,0.04-3.91,1.51-6.45 c0.28-0.49,0.74-0.82,1.25-0.95c0.51-0.13,1.06-0.08,1.55,0.21c0.49,0.28,0.82,0.74,0.95,1.25c0.13,0.51,0.08,1.06-0.21,1.55 c-1.8,3.12-0.65,5.27,0.35,7.14l0,0c0.77,1.43,1.48,2.76,1.57,4.23C43.5,15.95,42.94,17.51,41.16,19.3L41.16,19.3z"/>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M21.51,26.4 c2.34-1.13,5.03-2.12,8.08-2.96c3.03-0.84,6.41-1.53,10.13-2.07c1.39-0.2,2.79-0.38,4.2-0.54c1.43-0.16,2.84-0.3,4.26-0.41 c0.87-0.07,1.78-0.13,2.71-0.19c0.64-0.04,1.3-0.07,1.96-0.1c-0.25-0.55-0.45-1.13-0.59-1.72c-0.16-0.68-0.25-1.39-0.25-2.12 c0-1.25,0.25-2.44,0.7-3.53c0.47-1.13,1.16-2.15,2.01-3c0.85-0.85,1.87-1.54,3-2c1.09-0.45,2.28-0.7,3.53-0.7s2.44,0.25,3.53,0.7 c1.13,0.47,2.15,1.16,3,2c0.85,0.85,1.54,1.87,2.01,3c0.45,1.09,0.7,2.28,0.7,3.53c0,0.74-0.09,1.46-0.26,2.16 c-0.15,0.63-0.37,1.24-0.65,1.82c0.76,0.05,1.5,0.1,2.22,0.16c0.97,0.07,1.98,0.16,3.02,0.26c1.55,0.15,3.09,0.32,4.64,0.52 c1.55,0.19,3.09,0.41,4.62,0.65c3.47,0.54,6.66,1.2,9.54,1.98c2.9,0.79,5.51,1.71,7.79,2.78c2.38,1.11,4.41,2.39,6.05,3.85 c1.66,1.47,2.92,3.12,3.77,4.97c0.07,0.14,0.13,0.29,0.17,0.46c0.04,0.16,0.06,0.32,0.06,0.49c0,0.57-0.23,1.08-0.6,1.45 l-0.03,0.03c-0.37,0.35-0.87,0.57-1.42,0.57H13.09c-0.04,0-0.07,0-0.1-0.01c-0.13-0.01-0.27-0.03-0.39-0.06 c-0.14-0.04-0.28-0.09-0.42-0.16c-0.03-0.01-0.06-0.03-0.09-0.05c-0.47-0.27-0.8-0.7-0.95-1.19c-0.15-0.49-0.12-1.03,0.13-1.51 c0.01-0.03,0.03-0.06,0.05-0.09c0.98-1.81,2.31-3.47,4.01-4.97C17.02,28.92,19.08,27.58,21.51,26.4L21.51,26.4z"/></svg>`; ]]]
            styles:
              custom_fields:
                icon_kitchen:
                  [top: 10%, left: 7%, width: 3.2vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                   GANG                        #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.gang
            style:
              top: 82.1%
              left: 55.18%
              width: 10%
            custom_fields:
              icon_closet: >
                [[[ const state = entity.state === 'on' ? 'door' : 'door reverse'; const opacity = entity.state === 'on' ? 'room' : 'room reverse';
                return `<svg viewBox="0 0 50 50"> <style>.door{animation: door 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;}.room{animation: room 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;}.reverse{animation-direction: reverse;}@keyframes door{0%{transform: none; fill: #9da0a2;}100%{transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8); fill: #b68349;}}@keyframes room{0%{opacity: 0;}100%{opacity: 1;}}</style>
                <path class="${opacity}" d="M11.4,1.4h27.2v43.1H11.4V1.4z" fill="#bcbcbc"/><path class="${state}" d="M11.4 1.4v43.1h27.2V1.4H11.4zm23 23.4c0 1.1-.9 1.9-1.9 1.9h0c-1.1 0-1.9-.9-1.9-1.9V21c0-1.1.9-1.9 1.9-1.9h0c1.1 0 1.9.9 1.9 1.9v3.8z"/></svg>`; ]]]
            styles:
              custom_fields:
                icon_closet:
                  [top: 11%, left: 4.1%, width: 3.2vw, position: absolute]
            template: light

          #################################################
          #                                               #
          #                  WOONKAMER                    #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.woonkamer
            style:
              top: 82.1%
              left: 66.14%
              width: 10%
            custom_fields:
              icon_spot: *icon_spot
            styles: *icon_spot_styles
            template: light

          ##########################################################################
          #                                                                        #
          #                               * Home *                                #
          #                                                                        #
          ##########################################################################

          - prefix: Badezimmer
            <<: *title
            style:
              top: 53.4%
              left: 75.1%
              <<: *title-style

          #################################################
          #                                               #
          #                    TOBIAS                     #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.kasten_keuken
            name: Cupboards
            style:
              top: 64.5%
              left: 80.05%
              width: 10%
            custom_fields:
              icon_GU10: *icon_GU10
            styles: *icon_GU10_styles
            template: light

          #################################################
          #                                               #
          #                     MAAIKE                    #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: light.muur_keuken
            name: Wall
            style:
              top: 64.5%
              left: 91.05%
              width: 10%
            custom_fields:
              icon_GU10: *icon_GU10
            styles: *icon_GU10_styles
            template: light

          #################################################
          #                                               #
          #                  ALL OFF                      #
          #                                               #
          #################################################

          - type: custom:button-card
            entity: script.home_leave
            state_display: Auto
            style:
              top: 82.1%
              left: 80.05%
              width: 10%
            tap_action:
              action: toggle
            hold_action:
              action: none
            custom_fields:
              icon_away: >
                [[[ const state = entity.state === 'on' ? 'animate' : null;
                return `<svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                <path class="${state}" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>`; ]]]
            styles:
              card: [transition: all 0.3s ease-out]
              custom_fields:
                icon_away:
                  [
                    top: 10%,
                    left: 10.1%,
                    width: 3.1vw,
                    position: absolute,
                    fill: "[[[ return entity.state === 'on' ? '#516d82' : '#9da0a2'; ]]]",
                  ]
            template:
              base

              #################################################
              #                                               #
              #                     HEMMA                     #
              #                                               #
              #################################################

          - type: custom:button-card
            entity: light.aanrecht
            name: Counter
            style:
              top: 82.1%
              left: 91.05%
              width: 10%
            custom_fields:
              icon_GU10: *icon_GU10
            styles: *icon_GU10_styles
            template: light

          #          - type: custom:button-card
          #            entity: script.home_arrive
          #            state_display: Auto
          #            style:
          #              top: 82.1%
          #              left: 91.05%
          #              width: 10%
          #            tap_action:
          #              action: toggle
          #            custom_fields:
          #              icon_home: >
          #                [[[ const state = entity.state === 'on' ? 'animate' : null;
          #                return `<svg viewBox="0 0 50 50"> <style>@keyframes animate{from, 20%, 40%, 60%, 80%, to{animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);}0%{transform: scale(0.3);}20%{transform: scale(1.1);}40%{transform: scale(0.9);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}to{transform: scale(1);}}.animate{animation: animate 1s; transform-origin: center;}</style>
          #                <path class="${state}" d="M42.2 28.3c0-.8-.2-1-.2-1L26 12.1s-.5-.4-1-.4-1 .3-1 .3L8.2 27.1c-.4.5-.4.9-.4.9v18.3c0 1.1.9 2 1.9 2h8.2a1.47 1.47 0 0 0 1.5-1.5v-14a1.47 1.47 0 0 1 1.5-1.5h8.4a1.47 1.47 0 0 1 1.5 1.5v14a1.47 1.47 0 0 0 1.5 1.5h8.2c1.1 0 2-.9 2-1.9 0-.2-.3-18.1-.3-18.1zM7.3 25l-1.6 1.5s-.3.3-.5.3-.5 0-.8-.2c-.2-.2-2-2.8-2-2.8s-.1-.4-.1-.7c.1-.3.2-.7.3-.8.4-.1 21.5-20.1 21.5-20.1s.4-.3.9-.3c.4 0 .8.1.9.2s.5.4.5.4l8.9 8.5V6s.1-.4.2-.7c.1-.2.3-.3.4-.3s.3-.1.3-.1h3s.3.1.4.3a1.08 1.08 0 0 1 .3.7v9.8l7.2 6.9s.2.3.3.4c.1.2.1.7.1.7 0 .1-.1.4-.2.5s-1.6 2.5-1.6 2.5-.1.3-.3.3c-.2.1-.4.1-.7 0-.2-.1-.5-.4-.5-.4L26.4 9.4s-.3-.3-.5-.4-.4-.2-.8-.2-.5.1-.8.1c-.1.1-.4.3-.7.5C23.3 9.8 7.3 25 7.3 25z"/></svg>`; ]]]
          #            styles:
          #              card: [transition: all 0.3s ease-out]
          #              custom_fields:
          #                icon_home:
          #                  [top: 10.5%, left: 10.1%, width: 2.9vw, position: absolute,
          #                  fill: "[[[ return entity.state === 'on' ? '#c7983e' : '#9da0a2'; ]]]"]
          #            template: base

          #################################################################
          #                                                               #
          #                     SIDEBAR : ALL DEVICES                     #
          #                                                               #
          #################################################################

          #########################    BACKGROUND    #########################

          # - action: none
          #   hold_action:
          #     action: none
          #   image: /local/ui/sidebar/sidebarBG2.png
          #   style:
          #     height: 100%
          #     left: 11.73828125%
          #     top: 50%
          #     width: 23.4765625%
          #   tap_action:
          #     action: none
          #   type: image

          # - action: none
          #   entity: sensor.christmas_time
          #   state_image:
          #     "True": /local/ui/sidebar/kerstballen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 11%
          #     top: 8.5%
          #     width: 20%
          #   tap_action: none
          #   type: image

          # - action: none
          #   entity: sensor.new_years
          #   state_image:
          #     "True": /local/ui/sidebar/oliebollen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 13%
          #     top: 34.5%
          #     width: 8%
          #   tap_action: none
          #   type: image

            #########################    TIME & DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.7)"
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: "-0.05vw"
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.3)"
              font-size: 1.3vw
              font-weight: 300
              left: 17.5%
              letter-spacing: "-0.05vw"
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label

            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              border-radius: 5vw
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/0
            type: image
          - action: none
            image: /local/ui/sidebar/Falkor_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/1
            type: image
          - action: none
            image: /local/ui/sidebar/all_on.png
            style:
              box-shadow: "0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)"
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/2
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: image

          #################################################
          #                                               #
          #                AFVALWIJZER                    #
          #                                               #
          #################################################
          - type: conditional
            conditions:
              - entity: input_boolean.afval
                state: "on"
            elements:
              - type: custom:button-card
                entity: sensor.afvalwijzer_next_type_and_date
                aspect_ratio: 4.5/1
                style:
                  top: 58%
                  left: 11.7%
                  width: 20.5078125%
                show_icon: false
                show_name: false
                show_state: true
                tap_action:
                  action: call-service
                  service: input_boolean.turn_off
                  service_data:
                    entity_id: input_boolean.afval
                hold_action: none
                custom_fields:
                  icon_test: >
                    <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                    <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                styles:
                  state:
                    [top: 25%, left: 11%, line-height: 2vw, position: absolute]
                  card:
                    [
                      font-family: Sf Display,
                      letter-spacing: 0.05vw,
                      font-weight: 400,
                      color: "rgba(255, 255, 255, 0.8)",
                      font-size: 1.34vw,
                      background-color: "rgba(115, 115, 115, 0.2)",
                      border-radius: 5.0vw,
                      box-shadow: none,
                      transition: none,
                    ]
                  custom_fields:
                    icon_test:
                      [top: 25%, left: 80%, width: 2vw, position: absolute]

            #########################    PEOPLE    #########################

          # - action: none
          #   entity: person.tobias
          #   state_image:
          #     home: /local/ui/people/tobias.png
          #     its: /local/ui/people/tobias-away.png
          #     not_home: /local/ui/people/tobias-away.png
          #     unknown: /local/ui/people/tobias-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/ui/people/kroon.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.2%
          #     top: 65.07%
          #     width: 3.5vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: person.maaike
          #   state_image:
          #     home: /local/ui/people/maaike.png
          #     not_home: /local/ui/people/maaike-away.png
          #     bravis: /local/ui/people/maaike-away.png
          #     unknown: /local/ui/people/maaike-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/ui/people/kroon.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 10.8%
          #     top: 65.1%
          #     width: 3.5vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: person.boris
          #   state_image:
          #     home: /local/ui/people/boris.png
          #     not_home: /local/ui/people/boris-away.png
          #     bravis: /local/ui/people/boris-away.png
          #     unknown: /local/ui/people/boris-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/ui/people/kroon-1.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.3%
          #     top: 72.6%
          #     width: 3.3vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: person.reza
          #   state_image:
          #     home: /local/ui/people/reza.png
          #     not_home: /local/ui/people/reza-away.png
          #     bravis: /local/ui/people/reza-away.png
          #     unknown: /local/ui/people/reza-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/ui/people/kroon-1.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 11.75%
          #     top: 72.5%
          #     width: 3.5vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: person.nova
          #   state_image:
          #     home: /local/ui/people/nova.png
          #     not_home: /local/ui/people/nova-away.png
          #     bravis: /local/ui/people/nova-away.png
          #     unknown: /local/ui/people/nova-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 16.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/ui/people/kroon-1.png
          #   style:
          #     height: 4.0vw
          #     left: 17.1%
          #     top: 72.8%
          #     width: 3.25vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

            #########################    TEMPERATURE GRAPH (INSIDE vs OUTSIDE)    #########################

          - color_thresholds:
              - color: "#4dd2ff"
                value: 10
              - color: "#ffa31a"
                value: 15
              - color: "#ff1a1a"
                value: 20
            entities:
              - sensor.wz_motion_temperature
            icon: "mdi:home-thermometer-outline"
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:mini-graph-card"

            #########################    WEATHER SIDEBAR CARD    #########################

          - backdrop: false
            entity: weather.zuhause
            name: " "
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:simple-weather-card"

            #########################    VISUAL SHADOW OVERLAYS    #########################

          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image

            #########################    NOW PLAYING SPOTIFY MENU BUTTON    #########################

          - entity: media_player.spotify_dolphinxid99
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top: 49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                background: #474A52 !important; 
              }              
              .entity__info{
                height: 2.6vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }

              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }

              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: 0.2vw 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: "custom:mini-media-player"

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                            Now Playing Media View                                                         #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Media
    icon: "mdi:play-circle"
    panel: true
    badges: []
    cards:
      - elements:
          ###############################
          #                             #
          #        CONTROLS             #
          #                             #
          ###############################

          - type: conditional
            conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - type: "custom:mini-media-player"
                entity: media_player.keuken
                style: |
                  :host {
                    left: 40% !important;
                    top: 79.5% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }

          - type: conditional
            conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - type: "custom:mini-media-player"
                entity: media_player.marantz
                style: |
                  :host {
                    left: 72% !important;
                    top: 79.5% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }

          - type: conditional
            conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - type: "custom:mini-media-player"
                entity: media_player.zolder
                style: |
                  :host {
                    left: 40% !important;
                    top: 92% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }

          - type: conditional
            conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - type: "custom:mini-media-player"
                entity: media_player.samsung_woonkamer
                style: |
                  :host {
                    left: 72% !important;
                    top: 92% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }

            ###########################################################################
            #                                                                         #
            #                 IF PLEX NOT ON, SHOW SPOTIFY:                           #
            #                                                                         #
            ###########################################################################

            #  Mini Media Player Card:
            #  https://github.com/kalkih/mini-media-player

          - conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - artwork: full-cover
                entity: media_player.spotify_dolphinxid99
                hide:
                  power: true
                  progress: false
                  runtime: false
                  volume: true
                style: |
                  :host {
                    left: 46% !important;
                    top: 39.8% !important;
                    width: 33% !important;
                    height: 62.3% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }
                type: "custom:mini-media-player"
            type: conditional

            # Spotify Playlists Card:
            # https://github.com/custom-cards/spotify-card
          - type: conditional
            conditions:
              - entity: sensor.plex_tobias
                state_not: "1"
            elements:
              - type: "custom:spotify-card"
                limit: 14
                always_play_random_song: true
                device: media_player.marantz_sr7007
                spotify_entity: media_player.marantz_sr7007
                name:
                style: |
                  :host {
                      left: 79.5%; 
                      top: 39.8%;
                      width: 31%;
                      height: 62.3%;
                      border-radius: 1vw;
                  }
                  #header{
                      display:none !important;
                  }
                  #content{
                      border:none !important;
                  }
                  .playback-controls{
                      display:none !important;    
                  }
                  #header-track{
                      display:none;
                  }
                  .list-item > p{
                      white-space: nowrap; 
                          overflow: hidden;
                  }
                  .list-item{
                      border-radius: 0.2vw;
                      overflow:hidden;
                      border:none !important;
                      margin-bottom:2px;
                  }

            ###########################################################################
            #                                                                         #
            #          IF PLEX IS ON, SHOW PLEX & RECENTLY ADDED:                     #
            #                                                                         #
            ###########################################################################

          # - conditions:
          #     - entity: sensor.plex_tobias
          #       state: "1"
          #   elements:
          #     - artwork: cover
          #       entity: media_player.plex_plex_samsung
          #       hide:
          #         icon: true
          #         mute: false
          #         power: true
          #         power_state: true
          #       info: short
          #       style: |
          #         :host {
          #           border-radius: 1vw;
          #           overflow: hidden;
          #           height: 300px;
          #           box-shadow: none !important;
          #           left: 50% !important;
          #           top: 43% !important;
          #           width: 42.3% !important;
          #           height: 66%
          #         }
          #         ha-card {
          #           border-radius: 1vw;
          #           height: 100%;
          #           overflow: hidden !important;
          #           box-shadow: none !important;
          #         }
          #       type: "custom:mini-media-player"
          #   type: conditional

            # Upcoming Media Card:
            # https://github.com/custom-cards/upcoming-media-card

            # Enabled by, Plex Recently Added Sensor:
            # https://github.com/custom-components/sensor.plex_recently_added

          - conditions:
              - entity: sensor.plex_tobias
                state: "1"
            elements:
              - entity: sensor.emby_latest_movies
                style:
                  left: 84%
                  top: 25%
                  width: 18%
                title: Recently Added
                type: "custom:upcoming-media-card"
            type: conditional

            #################################################################
            #                                                               #
            #                             SIDEBAR                           #
            #                                                               #
            #################################################################

          # - action: none
          #   hold_action:
          #     action: none
          #   image: /local/ui/sidebar/sidebarBG2.png
          #   style:
          #     height: 100%
          #     left: 11.73828125%
          #     top: 50%
          #     width: 23.4765625%
          #   tap_action:
          #     action: none
          #   type: image

          # - action: none
          #   entity: sensor.christmas_time
          #   state_image:
          #     "True": /local/ui/sidebar/kerstballen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 11%
          #     top: 8.5%
          #     width: 20%
          #   tap_action: none
          #   type: image

          # - action: none
          #   entity: sensor.new_years
          #   state_image:
          #     "True": /local/ui/sidebar/oliebollen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 13%
          #     top: 34.5%
          #     width: 8%
          #   tap_action: none
          #   type:
          #     image

              #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.7)"
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: "-0.05vw"
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label

          - entity: sensor.date
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.3)"
              font-size: 1.3vw
              font-weight: 300
              left: 17.5%
              letter-spacing: "-0.05vw"
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type:
              state-label

              #########################    BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              border-radius: 5vw
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/0
            type: image
          - action: none
            image: /local/ui/sidebar/Falkor_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/1
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/2
            type: image
          - action: none
            image: /local/ui/sidebar/media_on.png
            style:
              box-shadow: "0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)"
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: image

          #################################################
          #                                               #
          #                AFVALWIJZER                    #
          #                                               #
          #################################################
          - type: conditional
            conditions:
              - entity: input_boolean.afval
                state: "on"
            elements:
              - type: custom:button-card
                entity: sensor.afvalwijzer_next_type_and_date
                aspect_ratio: 4.5/1
                style:
                  top: 58%
                  left: 11.7%
                  width: 20.5078125%
                show_icon: false
                show_name: false
                show_state: true
                tap_action:
                  action: call-service
                  service: input_boolean.turn_off
                  service_data:
                    entity_id: input_boolean.afval
                hold_action: none
                custom_fields:
                  icon_test: >
                    <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                    <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                styles:
                  state:
                    [top: 25%, left: 11%, line-height: 2vw, position: absolute]
                  card:
                    [
                      font-family: Sf Display,
                      letter-spacing: 0.05vw,
                      font-weight: 400,
                      color: "rgba(255, 255, 255, 0.8)",
                      font-size: 1.34vw,
                      background-color: "rgba(115, 115, 115, 0.2)",
                      border-radius: 5.0vw,
                      box-shadow: none,
                      transition: none,
                    ]
                  custom_fields:
                    icon_test:
                      [top: 25%, left: 80%, width: 2vw, position: absolute]

            #########################    PEOPLE    #########################

          # - action: none
          #   entity: person.tobias
          #   state_image:
          #     home: /local/ui/people/tobias.png
          #     its: /local/ui/people/tobias-away.png
          #     not_home: /local/ui/people/tobias-away.png
          #     unknown: /local/ui/people/tobias-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/ui/people/kroon.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.2%
          #     top: 65.07%
          #     width: 3.5vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: person.maaike
          #   state_image:
          #     home: /local/ui/people/maaike.png
          #     not_home: /local/ui/people/maaike-away.png
          #     bravis: /local/ui/people/maaike-away.png
          #     unknown: /local/ui/people/maaike-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/ui/people/kroon.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 10.8%
          #     top: 65.1%
          #     width: 3.5vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: person.boris
          #   state_image:
          #     home: /local/ui/people/boris.png
          #     not_home: /local/ui/people/boris-away.png
          #     bravis: /local/ui/people/boris-away.png
          #     unknown: /local/ui/people/boris-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/ui/people/kroon-1.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.3%
          #     top: 72.6%
          #     width: 3.3vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: person.reza
          #   state_image:
          #     home: /local/ui/people/reza.png
          #     not_home: /local/ui/people/reza-away.png
          #     bravis: /local/ui/people/reza-away.png
          #     unknown: /local/ui/people/reza-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/ui/people/kroon-1.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 11.75%
          #     top: 72.5%
          #     width: 3.5vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: person.nova
          #   state_image:
          #     home: /local/ui/people/nova.png
          #     not_home: /local/ui/people/nova-away.png
          #     bravis: /local/ui/people/nova-away.png
          #     unknown: /local/ui/people/nova-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 16.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/ui/people/kroon-1.png
          #   style:
          #     height: 4.0vw
          #     left: 17.1%
          #     top: 72.8%
          #     width: 3.25vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: "#4dd2ff"
                value: 10
              - color: "#ffa31a"
                value: 15
              - color: "#ff1a1a"
                value: 20
            entities:
              - sensor.toon_r_temperatuur
              - sensor.buienradar_ground_temperature
            icon: "mdi:home-thermometer-outline"
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:mini-graph-card"

            #########################   MINI WEATHER CARD    #########################

          - backdrop: false
            entity: weather.zuhause
            name: " "
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:simple-weather-card"

            #########################   OVERLAY SHADOW IMAGES    #########################

          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image

            #########################   Styled now playing Media Player    #########################

            # when the media player is playing, this overlaps the "Media" menu button

          - entity: media_player.spotify_dolphinxid99
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            show_progress: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                    padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                background: #474A52 !important; 
              }              
              .entity__info{
                height: 2.6vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #2B2E30;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }

              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }

              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: 0.2vw 1vw 0 0 !important;
              }
            tap_action:
              action: null
            type: "custom:mini-media-player"

        image: /local/ui/floorplan/blurred.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
          upcoming-media-card ha-card{
                  background: none;
                  box-shadow: none !important;
                }
                upcoming-media-card ha-card div:nth-child(2) {
                  padding:0 !important;
                }
                .rece_poster{
                  width: 31% !important;
                  display: inline-block !important;
                  margin: 0% 0.2% !important;
                }
                .rece_svg_poster{
                  position: absolute !important;
                  bottom:-5%;
                  left:0;
                  width: 100% !important;
                }
                .rece_container_poster{
                  width:100% !important;
                  outline: none !important;
                  margin: 1% 1% !important;
                  overflow: hidden;
                }

                .rece_svg_poster > rect{
                 fill:none !important;
                }
                .card-header{
                  font-size: 1vw;
                  padding: 0;
                }
        type: picture-elements

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                               Weather View                                                                #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Wetter
    icon: "mdi:white-balance-sunny"
    panel: true
    badges: []
    cards:
      - elements:
          - current: true
            details: true
            entity: weather.zuhause
            forecast: true
            name: Wetter
            style: |
              :host {
                left: 61.5%;
                top:  38%;
                width: 70%;
                overflow: hidden;
                height: 63%;
                background: none !important;
                box-shadow: none !important;
              }
              .current {
                margin-bottom: 7vw;
              }
              .variations {
                margin-bottom: 4vw;
              }
              ha-card {
                height: 100%;
                background: none  !important;
                box-shadow: none !important;
                border-radius: 1vw;
                font-size: 1.2vw !important;
              }
              .forecast{
                padding: 0 2.5%;
                width: 95%;
              }
              .forecast .day:first-child{
                border-left: 0.1em solid #d9d9d9;
              }
              .forecast .day:last-child{
                border-right: 0.1em solid #d9d9d9;
              }
            type: "custom:weather-card"

          - fillColor: "rgba(89, 160, 238, 0.2)"
            lat: 51.5411171
            lineColor: "rgba(89, 160, 238, 1)"
            update_interval: 20
            long: 4.4768761
            style: |
              :host {
                left: 60.5%;
                top:  80%;
                width: 68%;
                overflow: hidden;
                height: 28%;
                background: none !important;
                box-shadow: none !important;
              }
              ha-card {
                height: 100%;
                background: none  !important;
                box-shadow: none !important;
                border-radius: 1vw;
                position: relative;
                font-size: 1vw !important;
              }
              .chart-container {
                  height:100%;
                  width:100%
              }
              #container {
                  height:100%;
                  width:100%;
                  padding: 0 !important;
                  margin: 0 !important;
              }
            type: "custom:buien-rain-forecast"

            #################################################################
            #                                                               #
            #                             SIDEBAR                           #
            #                                                               #
            #################################################################

          # - action: none
          #   hold_action:
          #     action: none
          #   image: /local/ui/sidebar/sidebarBG2.png
          #   style:
          #     height: 100%
          #     left: 11.73828125%
          #     top: 50%
          #     width: 23.4765625%
          #   tap_action:
          #     action: none
          #   type: image

          # - action: none
          #   entity: sensor.christmas_time
          #   state_image:
          #     "True": /local/ui/sidebar/kerstballen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 11%
          #     top: 8.5%
          #     width: 20%
          #   tap_action: none
          #   type: image

          # - action: none
          #   entity: sensor.new_years
          #   state_image:
          #     "True": /local/ui/sidebar/oliebollen.png
          #     "False": /local/transparent.png
          #   style:
          #     opacity: 0.5
          #     left: 13%
          #     top: 34.5%
          #     width: 8%
          #   tap_action: none
          #   type:
          #     image

              #########################    TIME AND DATE    #########################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.7)"
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: "-0.05vw"
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date
            hold_action:
              action: none
            style:
              color: "rgba(255, 255, 255, 0.3)"
              font-size: 1.3vw
              font-weight: 300
              left: 17.5%
              letter-spacing: "-0.05vw"
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type:
              state-label

              #########################    BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              border-radius: 5vw
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/0
            type: image
          - action: none
            image: /local/ui/sidebar/Falkor_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/1
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/2
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: image

          #################################################
          #                                               #
          #                AFVALWIJZER                    #
          #                                               #
          #################################################
          - type: conditional
            conditions:
              - entity: input_boolean.afval
                state: "on"
            elements:
              - type: custom:button-card
                entity: sensor.afvalwijzer_next_type_and_date
                aspect_ratio: 4.5/1
                style:
                  top: 58%
                  left: 11.7%
                  width: 20.5078125%
                show_icon: false
                show_name: false
                show_state: true
                tap_action:
                  action: call-service
                  service: input_boolean.turn_off
                  service_data:
                    entity_id: input_boolean.afval
                hold_action: none
                custom_fields:
                  icon_test: >
                    <svg viewBox="0 0 50 50"><style>@keyframes animate{10%, 20%, 100%{transform: rotateZ(0deg);}30%, 50%, 70%{transform: rotateZ(7deg);}90%{transform: rotateZ(3deg);}40%, 60%, 80%{transform: rotateZ(-7deg);}}.animate{animation: animate 1.35s infinite cubic-bezier(0.5, 1, 0.89, 1); animation-fill-mode: both; transform-origin: 70% 80%; animation-delay: 0s;}</style>
                    <path class="animate" fill="#ff0000" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/></svg>
                styles:
                  state:
                    [top: 25%, left: 11%, line-height: 2vw, position: absolute]
                  card:
                    [
                      font-family: Sf Display,
                      letter-spacing: 0.05vw,
                      font-weight: 400,
                      color: "rgba(255, 255, 255, 0.8)",
                      font-size: 1.34vw,
                      background-color: "rgba(115, 115, 115, 0.2)",
                      border-radius: 5.0vw,
                      box-shadow: none,
                      transition: none,
                    ]
                  custom_fields:
                    icon_test:
                      [top: 25%, left: 80%, width: 2vw, position: absolute]

            #########################    PEOPLE    #########################

          # - action: none
          #   entity: person.tobias
          #   state_image:
          #     home: /local/ui/people/tobias.png
          #     its: /local/ui/people/tobias-away.png
          #     not_home: /local/ui/people/tobias-away.png
          #     unknown: /local/ui/people/tobias-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/ui/people/kroon.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.2%
          #     top: 65.07%
          #     width: 3.5vw
          #   tap_action: !include popup/tobias.yaml
          #   hold_action: !include popup/tobias.yaml
          #   type: image

          # - action: none
          #   entity: person.maaike
          #   state_image:
          #     home: /local/ui/people/maaike.png
          #     not_home: /local/ui/people/maaike-away.png
          #     bravis: /local/ui/people/maaike-away.png
          #     unknown: /local/ui/people/maaike-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 66%
          #     width: 4.0vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/ui/people/kroon.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 10.8%
          #     top: 65.1%
          #     width: 3.5vw
          #   tap_action: !include popup/maaike.yaml
          #   hold_action: !include popup/maaike.yaml
          #   type: image

          # - action: none
          #   entity: person.boris
          #   state_image:
          #     home: /local/ui/people/boris.png
          #     not_home: /local/ui/people/boris-away.png
          #     bravis: /local/ui/people/boris-away.png
          #     unknown: /local/ui/people/boris-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 5.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/ui/people/kroon-1.png
          #     reza: /local/transparent.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 5.3%
          #     top: 72.6%
          #     width: 3.3vw
          #   tap_action: !include popup/boris.yaml
          #   hold_action: !include popup/boris.yaml
          #   type: image

          # - action: none
          #   entity: person.reza
          #   state_image:
          #     home: /local/ui/people/reza.png
          #     not_home: /local/ui/people/reza-away.png
          #     bravis: /local/ui/people/reza-away.png
          #     unknown: /local/ui/people/reza-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 11.0%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/ui/people/kroon-1.png
          #     nova: /local/transparent.png
          #   style:
          #     height: 4.0vw
          #     left: 11.75%
          #     top: 72.5%
          #     width: 3.5vw
          #   tap_action: !include popup/reza.yaml
          #   hold_action: !include popup/reza.yaml
          #   type: image

          # - action: none
          #   entity: person.nova
          #   state_image:
          #     home: /local/ui/people/nova.png
          #     not_home: /local/ui/people/nova-away.png
          #     bravis: /local/ui/people/nova-away.png
          #     unknown: /local/ui/people/nova-away.png
          #   style:
          #     background-color: "rgba(255, 255, 255, 0.0)"
          #     border-radius: 10vw
          #     height: 4.0vw
          #     left: 16.5%
          #     top: 73%
          #     width: 4.0vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

          # - action: none
          #   entity: sensor.stappen
          #   state_image:
          #     tobias: /local/transparent.png
          #     maaike: /local/transparent.png
          #     boris: /local/transparent.png
          #     reza: /local/transparent.png
          #     nova: /local/ui/people/kroon-1.png
          #   style:
          #     height: 4.0vw
          #     left: 17.1%
          #     top: 72.8%
          #     width: 3.25vw
          #   tap_action: !include popup/nova.yaml
          #   hold_action: !include popup/nova.yaml
          #   type: image

            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: "#4dd2ff"
                value: 10
              - color: "#ffa31a"
                value: 15
              - color: "#ff1a1a"
                value: 20
            entities:
              - sensor.bd_motion_temperature
              - sensor.wz_motion_temperature
              - sensor.az_motion_temperature
            icon: "mdi:home-thermometer-outline"
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:mini-graph-card"

            #########################   MINI WEATHER CARD    #########################

          - backdrop: false
            entity: weather.zuhause
            name: " "
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/4
            type: "custom:simple-weather-card"

            #########################   OVERLAY SHADOW IMAGES    #########################

          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image

            #########################   Styled now playing Media Player    #########################

            # when the media player is playing, this overlaps the "Media" menu button

          - entity: media_player.spotify_dolphinxid99
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top: 49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                background: #474A52 !important; 
              }              
              .entity__info{
                height: 2.6vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }

              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }

              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: 0.2vw 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-yaml/3
            type: "custom:mini-media-player"
        image: /local/ui/floorplan/blurred.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        type: picture-elements
